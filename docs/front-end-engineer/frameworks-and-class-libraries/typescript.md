---
title: "TypeScriptåŸºç¡€è¯­æ³•"
date: 2019-12-06
category:
  -  å‰ç«¯çŸ¥è¯†ç‚¹æ¸…å•
  -  æ¡†æ¶å’Œç±»åº“
tag: 
  - TypeScript
---

<more>TypeScript æŒ‡å—</more>
<!-- more -->


:::info Why learn
Anything that can go wrong, will go wrong.

<div style='text-align: right'> â€”â€”â€”â€” Murphey's Law</div>
:::

**æ­¤ç¯‡æ›´å¤šä¸ºè¯»ä¹¦ç¬”è®°ï¼Œå¤§éƒ¨åˆ†å‚è€ƒï¼ˆcopy ğŸ¤ï¼‰äº**
- [TypeScript å…¥é—¨æ•™ç¨‹](https://ts.xcatliu.com/)
- [TypeScript ä¸­æ–‡ç½‘](https://www.tslang.cn/)

## ä»€ä¹ˆæ˜¯ TypeScript
>TypeScript æ˜¯ JavaScript çš„ç±»å‹çš„è¶…é›†ï¼Œå®ƒå¯ä»¥ç¼–è¯‘æˆçº¯ JavaScriptã€‚ç¼–è¯‘å‡ºæ¥çš„ JavaScript å¯ä»¥è¿è¡Œåœ¨ä»»ä½•æµè§ˆå™¨ä¸Šã€‚TypeScript ç¼–è¯‘å·¥å…·å¯ä»¥è¿è¡Œåœ¨ä»»ä½•æœåŠ¡å™¨å’Œä»»ä½•ç³»ç»Ÿä¸Šã€‚TypeScriptæ˜¯å¼€æºçš„ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© TypeScript
1. TypeScript å¢åŠ äº†ä»£ç çš„**å¯è¯»æ€§**å’Œ**å¯ç»´æŠ¤æ€§**
2. ç±»å‹ç³»ç»Ÿå®é™…ä¸Šæ˜¯æœ€å¥½çš„æ–‡æ¡£ï¼Œå¤§éƒ¨åˆ†çš„å‡½æ•°çœ‹çœ‹**ç±»å‹çš„å®šä¹‰**å°±å¯ä»¥çŸ¥é“å¦‚ä½•ä½¿ç”¨äº†
3. å¯ä»¥åœ¨**ç¼–è¯‘é˜¶æ®µå°±å‘ç°å¤§éƒ¨åˆ†é”™è¯¯**ï¼Œè¿™æ€»æ¯”åœ¨è¿è¡Œæ—¶å€™å‡ºé”™å¥½
4. å¢å¼ºäº†ç¼–è¾‘å™¨å’Œ IDE çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬**ä»£ç è¡¥å…¨**ã€**æ¥å£æç¤º**ã€**è·³è½¬åˆ°å®šä¹‰**ã€**é‡æ„**ç­‰
### TypeScript éå¸¸åŒ…å®¹
1. TypeScript æ˜¯ JavaScript çš„**è¶…é›†**ï¼Œ.js æ–‡ä»¶å¯ä»¥ç›´æ¥é‡å‘½åä¸º .ts å³å¯
2. å³ä½¿ä¸æ˜¾å¼çš„å®šä¹‰ç±»å‹ï¼Œä¹Ÿèƒ½å¤Ÿè‡ªåŠ¨åšå‡º**ç±»å‹æ¨è®º**
3. å¯ä»¥**å®šä¹‰**ä»ç®€å•åˆ°å¤æ‚çš„å‡ ä¹**ä¸€åˆ‡ç±»å‹**
4. å³ä½¿ TypeScript ç¼–è¯‘æŠ¥é”™ï¼Œä¹Ÿå¯ä»¥ç”Ÿæˆ JavaScript æ–‡ä»¶
5. **å…¼å®¹ç¬¬ä¸‰æ–¹åº“**ï¼Œå³ä½¿ç¬¬ä¸‰æ–¹åº“ä¸æ˜¯ç”¨ TypeScript å†™çš„ï¼Œä¹Ÿå¯ä»¥ç¼–å†™å•ç‹¬çš„ç±»å‹æ–‡ä»¶ä¾› TypeScript è¯»å–
### TypeScript æ‹¥æœ‰æ´»è·ƒçš„ç¤¾åŒº
1. å¤§éƒ¨åˆ†**ç¬¬ä¸‰æ–¹åº“**éƒ½æœ‰æä¾›ç»™ TypeScript çš„ç±»å‹å®šä¹‰æ–‡ä»¶
2. Google å¼€å‘çš„ Angular2 å°±æ˜¯ä½¿ç”¨ TypeScript ç¼–å†™çš„
3. TypeScript æ‹¥æŠ±äº† ES6 è§„èŒƒï¼Œä¹Ÿæ”¯æŒéƒ¨åˆ† ESNext è‰æ¡ˆçš„è§„èŒƒ
### TypeScript çš„ç¼ºç‚¹
1. æœ‰ä¸€å®šçš„**å­¦ä¹ æˆæœ¬**ï¼Œéœ€è¦ç†è§£*æ¥å£ï¼ˆInterfacesï¼‰*ã€*æ³›å‹ï¼ˆGenericsï¼‰*ã€*ç±»ï¼ˆClassesï¼‰*ã€ *æšä¸¾ç±»å‹ï¼ˆEnumsï¼‰* ç­‰å‰ç«¯å·¥ç¨‹å¸ˆå¯èƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„æ¦‚å¿µ
**çŸ­æœŸ**å¯èƒ½ä¼š**å¢åŠ ä¸€äº›å¼€å‘æˆæœ¬**ï¼Œæ¯•ç«Ÿè¦å¤šå†™ä¸€äº›ç±»å‹çš„å®šä¹‰ï¼Œä¸è¿‡å¯¹äºä¸€ä¸ªéœ€è¦**é•¿æœŸç»´æŠ¤**çš„é¡¹ç›®ï¼ŒTypeScript èƒ½å¤Ÿ**å‡å°‘å…¶ç»´æŠ¤æˆæœ¬**
2. é›†æˆåˆ°æ„å»ºæµç¨‹éœ€è¦ä¸€äº›å·¥ä½œé‡
3. å¯èƒ½å’Œä¸€äº›åº“ç»“åˆçš„ä¸æ˜¯å¾ˆå®Œç¾

## å®‰è£… TypeScript
TypeScript çš„å‘½ä»¤è¡Œå·¥å…·å®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š
```bash
yarn global add typescript
 or
npm install --global typescript
```
ä»¥ä¸Šå‘½ä»¤ä¼šåœ¨å…¨å±€ç¯å¢ƒä¸‹å®‰è£… `tsc` å‘½ä»¤ï¼Œå®‰è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æ‰§è¡Œ `tsc` å‘½ä»¤äº†ã€‚
ç¼–è¯‘ä¸€ä¸ª TypeScript æ–‡ä»¶å¾ˆç®€å•ï¼š

```bash
tsc hello.ts
```
>ä½¿ç”¨ TypeScript ç¼–å†™çš„æ–‡ä»¶ä»¥ `.ts` ä¸ºåç¼€ï¼Œç”¨ TypeScript ç¼–å†™ React æ—¶ï¼Œä»¥ `.tsx` ä¸ºåç¼€ã€‚

>yarn global add ts-node ç¼–è¯‘å¹¶ä½¿ç”¨nodeè¿è¡Œ
```bash
ts-node hello.ts
```
### ç¼–è¾‘å™¨
TypeScript æœ€å¤§çš„ä¼˜åŠ¿ä¾¿æ˜¯å¢å¼ºäº†ç¼–è¾‘å™¨å’Œ IDE çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä»£ç è¡¥å…¨ã€æ¥å£æç¤ºã€è·³è½¬åˆ°å®šä¹‰ã€é‡æ„ç­‰ã€‚
ä¸»æµçš„ç¼–è¾‘å™¨éƒ½æ”¯æŒ TypeScriptï¼Œæ¨èä½¿ç”¨ Visual Studio Codeã€‚

# TypeScript ç®€ä»‹

## åŸå§‹æ•°æ®ç±»å‹

JavaScript çš„ç±»å‹åˆ†ä¸ºä¸¤ç§ï¼šåŸå§‹æ•°æ®ç±»å‹ï¼ˆ[Primitive data types](https://developer.mozilla.org/zh-CN/docs/Glossary/Primitive)ï¼‰å’Œå¯¹è±¡ç±»å‹ï¼ˆObject typesï¼‰ã€‚

åŸå§‹æ•°æ®ç±»å‹åŒ…æ‹¬ï¼šå¸ƒå°”å€¼ã€æ•°å€¼ã€å­—ç¬¦ä¸²ã€`null`ã€`undefined` ä»¥åŠ ES6 ä¸­çš„æ–°ç±»å‹ `Symbol`ã€‚

æœ¬èŠ‚ä¸»è¦ä»‹ç»å‰äº”ç§åŸå§‹æ•°æ®ç±»å‹åœ¨ TypeScript ä¸­çš„åº”ç”¨ã€‚

### å¸ƒå°”å€¼
:::info
å¸ƒå°”å€¼æ˜¯æœ€åŸºç¡€çš„æ•°æ®ç±»å‹ï¼Œåœ¨ TypeScript ä¸­ï¼Œä½¿ç”¨ `boolean` å®šä¹‰å¸ƒå°”å€¼ç±»å‹
:::
```ts
let isDone: boolean = false
```
:::warning
ä½¿ç”¨æ„é€ å‡½æ•° `Boolean` åˆ›é€ çš„å¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼,äº‹å®ä¸Š `new Boolean()` è¿”å›çš„æ˜¯ä¸€ä¸ª `Boolean` å¯¹è±¡
:::
```ts
let createdByNewBoolean: boolean = new Boolean(1)

// Type 'Boolean' is not assignable to type 'boolean'.
// 'boolean' is a primitive, but 'Boolean' is a wrapper object. Prefer using 'boolean' when possible.
```
ç›´æ¥è°ƒç”¨ `Boolean` ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ª `boolean` ç±»å‹
```ts
let createdByBoolean: boolean = Boolean(1)
```
**åœ¨ TypeScript ä¸­ï¼Œ`boolean` æ˜¯ JavaScript ä¸­çš„åŸºæœ¬ç±»å‹ï¼Œè€Œ `Boolean` æ˜¯ JavaScript ä¸­çš„æ„é€ å‡½æ•°ã€‚å…¶ä»–åŸºæœ¬ç±»å‹ï¼ˆé™¤äº† `null` å’Œ `undefined`ï¼‰ä¸€æ ·ï¼Œä¸å†èµ˜è¿°ã€‚**

### æ•°å€¼
:::info
ä½¿ç”¨ `number` å®šä¹‰æ•°å€¼ç±»å‹ï¼š
:::
```ts
let decLiteral: number = 6
let hexLiteral: number = 0xf00d
// ES6 ä¸­çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ³•
let binaryLiteral: number = 0b1010
// ES6 ä¸­çš„å…«è¿›åˆ¶è¡¨ç¤ºæ³•
let octalLiteral: number = 0o744
let notANumber: number = NaN
let infinityNumber: number = Infinity
```
å…¶ä¸­ `0b1010` å’Œ `0o744` æ˜¯ ES6 ä¸­çš„äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶è¡¨ç¤ºæ³•ï¼Œå®ƒä»¬ä¼šè¢«ç¼–è¯‘ä¸ºåè¿›åˆ¶æ•°å­—ã€‚

### å­—ç¬¦ä¸²
:::info
ä½¿ç”¨ `string` å®šä¹‰å­—ç¬¦ä¸²ç±»å‹
:::
```ts
let myName: string = 'Tom'
let myAge: number = 25

// æ¨¡æ¿å­—ç¬¦ä¸²
let sentence: string = `Hello, my name is ${myName}.
I'll be ${myAge + 1} years old next month.`
```
å…¶ä¸­ <code>&#96</code> ç”¨æ¥å®šä¹‰ ES6 ä¸­çš„æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œ`${expr}` ç”¨æ¥åœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥è¡¨è¾¾å¼ã€‚

### ç©ºå€¼
:::info
JavaScript æ²¡æœ‰ç©ºå€¼ï¼ˆVoidï¼‰çš„æ¦‚å¿µï¼Œåœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ç”¨ `void` è¡¨ç¤ºæ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„å‡½æ•°
:::
```ts
function alertName(): void {
    alert('My name is Tom')
}
```
å£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºä½ åªèƒ½å°†å®ƒèµ‹å€¼ä¸º `undefined` å’Œ `nullï¼š`
```ts
let unusable: void = undefined
```
### Null å’Œ Undefined
:::info
åœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `null` å’Œ `undefined` æ¥å®šä¹‰è¿™ä¸¤ä¸ªåŸå§‹æ•°æ®ç±»å‹ï¼š
:::
```ts
let u: undefined = undefined
let n: null = null
```
ä¸ `void` çš„åŒºåˆ«æ˜¯ï¼Œ`undefined` å’Œ `null` æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ `undefined` ç±»å‹çš„å˜é‡ï¼Œå¯ä»¥èµ‹å€¼ç»™ `number` ç±»å‹çš„å˜é‡ï¼š
```ts
// è¿™æ ·ä¸ä¼šæŠ¥é”™
let num: number = undefined
// è¿™æ ·ä¹Ÿä¸ä¼šæŠ¥é”™
let u: undefined
let num: number = u
```
è€Œ `void` ç±»å‹çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ï¼š
```ts
let u: void
let num: number = u
// Type 'void' is not assignable to type 'number'.
```
## ä»»æ„å€¼
:::info
ä»»æ„å€¼ï¼ˆ`Any`ï¼‰ç”¨æ¥è¡¨ç¤ºå…è®¸èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚
:::
### ä»€ä¹ˆæ˜¯ä»»æ„å€¼ç±»å‹
å¦‚æœæ˜¯ä¸€ä¸ªæ™®é€šç±»å‹ï¼Œåœ¨èµ‹å€¼è¿‡ç¨‹ä¸­æ”¹å˜ç±»å‹æ˜¯ä¸è¢«å…è®¸çš„ï¼š
```ts
let myFavoriteNumber: string = 'seven'
myFavoriteNumber = 7
// Type '7' is not assignable to type 'string'.
```
ä½†å¦‚æœæ˜¯ `any` ç±»å‹ï¼Œåˆ™å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹ã€‚
```ts
let myFavoriteNumber: any = 'seven'
myFavoriteNumber = 7
```
### ä»»æ„å€¼çš„å±æ€§å’Œæ–¹æ³•
åœ¨ä»»æ„å€¼ä¸Šè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯å…è®¸çš„ï¼š
```ts
let anyThing: any = 'hello'
console.log(anyThing.myName)
console.log(anyThing.myName.firstName)
```
ä¹Ÿå…è®¸è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼š
```ts
let anyThing: any = 'Tom'
anyThing.setName('Jerry')
anyThing.setName('Jerry').sayHello()
anyThing.myName.setFirstName('Cat')
```
åœ¨å…¶ä»–åŸå§‹å€¼ä¸Šè®¿é—®ä»»ä½•å±æ€§éƒ½æ˜¯ä¸å…è®¸çš„ï¼š
```ts
let anyThing: string = 'hello'
console.log(anyThing.myName)
// Property 'myName' does not exist on type 'string'
```
å¯ä»¥è®¤ä¸ºï¼Œ**å£°æ˜ä¸€ä¸ªå˜é‡ä¸ºä»»æ„å€¼ä¹‹åï¼Œå¯¹å®ƒçš„ä»»ä½•æ“ä½œï¼Œè¿”å›çš„å†…å®¹çš„ç±»å‹éƒ½æ˜¯ä»»æ„å€¼ã€‚**

### æœªå£°æ˜ç±»å‹çš„å˜é‡
:::info
**å˜é‡å¦‚æœåœ¨å£°æ˜çš„æ—¶å€™ï¼ŒæœªæŒ‡å®šå…¶ç±»å‹ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«è¯†åˆ«ä¸ºä»»æ„å€¼ç±»å‹**
:::
```ts
let something
something = 'seven'
something = 7

something.setName('Tom')
```
ç­‰ä»·äº
```ts
let something: any
something = 'seven'
something = 7

something.setName('Tom')
```
## ç±»å‹æ¨è®º
:::info
å¦‚æœæ²¡æœ‰æ˜ç¡®çš„æŒ‡å®šç±»å‹ï¼Œé‚£ä¹ˆ TypeScript ä¼šä¾ç…§ç±»å‹æ¨è®ºï¼ˆType Inferenceï¼‰çš„è§„åˆ™æ¨æ–­å‡ºä¸€ä¸ªç±»å‹ã€‚
:::
### ä»€ä¹ˆæ˜¯ç±»å‹æ¨è®º
ä»¥ä¸‹ä»£ç è™½ç„¶æ²¡æœ‰æŒ‡å®šç±»å‹ï¼Œä½†æ˜¯ä¼šåœ¨ç¼–è¯‘çš„æ—¶å€™æŠ¥é”™ï¼š
```ts
let myFavoriteNumber = 'seven'
myFavoriteNumber = 7
// Type 'number' is not assignable to type 'string'.
```
äº‹å®ä¸Šï¼Œå®ƒç­‰ä»·äºï¼š
```ts
let myFavoriteNumber: string = 'seven'
myFavoriteNumber = 7
// Type 'number' is not assignable to type 'string'.
```
TypeScript ä¼šåœ¨æ²¡æœ‰æ˜ç¡®çš„æŒ‡å®šç±»å‹çš„æ—¶å€™æ¨æµ‹å‡ºä¸€ä¸ªç±»å‹ï¼Œè¿™å°±æ˜¯ç±»å‹æ¨è®ºã€‚

**å¦‚æœå®šä¹‰çš„æ—¶å€™æ²¡æœ‰èµ‹å€¼ï¼Œä¸ç®¡ä¹‹åæœ‰æ²¡æœ‰èµ‹å€¼ï¼Œéƒ½ä¼šè¢«æ¨æ–­æˆ** `any` **ç±»å‹è€Œå®Œå…¨ä¸è¢«ç±»å‹æ£€æŸ¥**ï¼š
```ts
let myFavoriteNumber
myFavoriteNumber = 'seven'
myFavoriteNumber = 7
```

## è”åˆç±»å‹
:::info
è”åˆç±»å‹ï¼ˆUnion Typesï¼‰è¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ã€‚
:::

### ç®€å•çš„ä¾‹å­

```ts
let myFavoriteNumber: string | number
myFavoriteNumber = 'seven'
myFavoriteNumber = 7
```

```ts
let myFavoriteNumber: string | number
myFavoriteNumber = true

// index.ts(2,1): error TS2322: Type 'boolean' is not assignable to type 'string | number'.
//   Type 'boolean' is not assignable to type 'number'.
```

**è”åˆç±»å‹ä½¿ç”¨ `|` åˆ†éš”æ¯ä¸ªç±»å‹ã€‚**

è¿™é‡Œçš„ `let myFavoriteNumber: string | number` çš„å«ä¹‰æ˜¯ï¼Œå…è®¸ `myFavoriteNumber` çš„ç±»å‹æ˜¯ `string` æˆ–è€… `number`ï¼Œä½†æ˜¯ä¸èƒ½æ˜¯å…¶ä»–ç±»å‹ã€‚

### è®¿é—®è”åˆç±»å‹çš„å±æ€§æˆ–æ–¹æ³•

å½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬**åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•**ï¼š

```ts
function getLength(something: string | number): number {
    return something.length
}

// index.ts(2,22): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
```

ä¸Šä¾‹ä¸­ï¼Œ`length` ä¸æ˜¯ `string` å’Œ `number` çš„å…±æœ‰å±æ€§ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚

è®¿é—® `string` å’Œ `number` çš„å…±æœ‰å±æ€§æ˜¯æ²¡é—®é¢˜çš„ï¼š

```ts
function getString(something: string | number): string {
    return something.toString()
}
```

è”åˆç±»å‹çš„å˜é‡åœ¨è¢«èµ‹å€¼çš„æ—¶å€™ï¼Œä¼šæ ¹æ®ç±»å‹æ¨è®ºçš„è§„åˆ™æ¨æ–­å‡ºä¸€ä¸ªç±»å‹ï¼š

```ts
let myFavoriteNumber: string | number
myFavoriteNumber = 'seven'
console.log(myFavoriteNumber.length) // 5
myFavoriteNumber = 7
console.log(myFavoriteNumber.length) // ç¼–è¯‘æ—¶æŠ¥é”™

// index.ts(5,30): error TS2339: Property 'length' does not exist on type 'number'.
```

ä¸Šä¾‹ä¸­ï¼Œç¬¬äºŒè¡Œçš„ `myFavoriteNumber` è¢«æ¨æ–­æˆäº† `string`ï¼Œè®¿é—®å®ƒçš„ `length` å±æ€§ä¸ä¼šæŠ¥é”™ã€‚

è€Œç¬¬å››è¡Œçš„ `myFavoriteNumber` è¢«æ¨æ–­æˆäº† `number`ï¼Œè®¿é—®å®ƒçš„ `length` å±æ€§æ—¶å°±æŠ¥é”™äº†ã€‚


## å¯¹è±¡çš„ç±»å‹â€”â€”æ¥å£
:::info
åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥å£ï¼ˆInterfacesï¼‰æ¥å®šä¹‰å¯¹è±¡çš„ç±»å‹ã€‚
:::
### ä»€ä¹ˆæ˜¯æ¥å£
:::info
åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œæ¥å£ï¼ˆInterfacesï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»ï¼ˆclassesï¼‰å»å®ç°ï¼ˆimplementï¼‰ã€‚

TypeScript ä¸­çš„æ¥å£æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„æ¦‚å¿µï¼Œé™¤äº†å¯ç”¨äº[å¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡](../advanced/class-and-interfaces.md#ç±»å®ç°æ¥å£)ä»¥å¤–ï¼Œä¹Ÿå¸¸ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°ã€‚
:::
### ç®€å•çš„ä¾‹å­

```ts
interface Person {
    name: string
    age: number
}

let tom: Person = {
    name: 'Tom',
    age: 25
}
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ¥å£ `Person`ï¼Œæ¥ç€å®šä¹‰äº†ä¸€ä¸ªå˜é‡ `tom`ï¼Œå®ƒçš„ç±»å‹æ˜¯ `Person`ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±çº¦æŸäº† `tom` çš„å½¢çŠ¶å¿…é¡»å’Œæ¥å£ `Person` ä¸€è‡´ã€‚

æ¥å£ä¸€èˆ¬é¦–å­—æ¯å¤§å†™ã€‚[æœ‰çš„ç¼–ç¨‹è¯­è¨€ä¸­ä¼šå»ºè®®æ¥å£çš„åç§°åŠ ä¸Š `I` å‰ç¼€](https://msdn.microsoft.com/en-us/library/8bc1fexb%28v=vs.71%29.aspx)ã€‚

å®šä¹‰çš„å˜é‡æ¯”æ¥å£å°‘äº†ä¸€äº›å±æ€§æ˜¯ä¸å…è®¸çš„ï¼š

```ts
interface Person {
    name: string
    age: number
}

let tom: Person = {
    name: 'Tom'
}

// index.ts(6,5): error TS2322: Type '{ name: string }' is not assignable to type 'Person'.
//   Property 'age' is missing in type '{ name: string }'.
```

å¤šä¸€äº›å±æ€§ä¹Ÿæ˜¯ä¸å…è®¸çš„ï¼š

```ts
interface Person {
    name: string
    age: number
}

let tom: Person = {
    name: 'Tom',
    age: 25,
    gender: 'male'
}

// index.ts(9,5): error TS2322: Type '{ name: string age: number gender: string }' is not assignable to type 'Person'.
//   Object literal may only specify known properties, and 'gender' does not exist in type 'Person'.
```

å¯è§ï¼Œ**èµ‹å€¼çš„æ—¶å€™ï¼Œå˜é‡çš„å½¢çŠ¶å¿…é¡»å’Œæ¥å£çš„å½¢çŠ¶ä¿æŒä¸€è‡´**ã€‚

### å¯é€‰å±æ€§

æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›ä¸è¦å®Œå…¨åŒ¹é…ä¸€ä¸ªå½¢çŠ¶ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å¯é€‰å±æ€§ï¼š

```ts
interface Person {
    name: string
    age?: number
}

let tom: Person = {
    name: 'Tom'
}
```

```ts
interface Person {
    name: string
    age?: number
}

let tom: Person = {
    name: 'Tom',
    age: 25
}
```

å¯é€‰å±æ€§çš„å«ä¹‰æ˜¯è¯¥å±æ€§å¯ä»¥ä¸å­˜åœ¨ã€‚

è¿™æ—¶**ä»ç„¶ä¸å…è®¸æ·»åŠ æœªå®šä¹‰çš„å±æ€§**ï¼š

```ts
interface Person {
    name: string
    age?: number
}

let tom: Person = {
    name: 'Tom',
    age: 25,
    gender: 'male'
}

// examples/playground/index.ts(9,5): error TS2322: Type '{ name: string age: number gender: string }' is not assignable to type 'Person'.
//   Object literal may only specify known properties, and 'gender' does not exist in type 'Person'.
```

### ä»»æ„å±æ€§

æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªæ¥å£å…è®¸æœ‰ä»»æ„çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š

```ts
interface Person {
    name: string
    age?: number
    [propName: string]: any
}

let tom: Person = {
    name: 'Tom',
    gender: 'male'
}
```

ä½¿ç”¨ `[propName: string]` å®šä¹‰äº†ä»»æ„å±æ€§å– `string` ç±»å‹çš„å€¼ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**ä¸€æ—¦å®šä¹‰äº†ä»»æ„å±æ€§ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹éƒ½å¿…é¡»æ˜¯å®ƒçš„ç±»å‹çš„å­é›†**ï¼š

```ts
interface Person {
    name: string
    age?: number
    [propName: string]: string
}

let tom: Person = {
    name: 'Tom',
    age: 25,
    gender: 'male'
}

// index.ts(3,5): error TS2411: Property 'age' of type 'number' is not assignable to string index type 'string'.
// index.ts(7,5): error TS2322: Type '{ [x: string]: string | number name: string age: number gender: string }' is not assignable to type 'Person'.
//   Index signatures are incompatible.
//     Type 'string | number' is not assignable to type 'string'.
//       Type 'number' is not assignable to type 'string'.
```

ä¸Šä¾‹ä¸­ï¼Œä»»æ„å±æ€§çš„å€¼å…è®¸æ˜¯ `string`ï¼Œä½†æ˜¯å¯é€‰å±æ€§ `age` çš„å€¼å´æ˜¯ `number`ï¼Œ`number` ä¸æ˜¯ `string` çš„å­å±æ€§ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚

å¦å¤–ï¼Œåœ¨æŠ¥é”™ä¿¡æ¯ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ­¤æ—¶ `{ name: 'Tom', age: 25, gender: 'male' }` çš„ç±»å‹è¢«æ¨æ–­æˆäº† `{ [x: string]: string | number name: string age: number gender: string }`ï¼Œè¿™æ˜¯è”åˆç±»å‹å’Œæ¥å£çš„ç»“åˆã€‚

### åªè¯»å±æ€§

æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¯¹è±¡ä¸­çš„ä¸€äº›å­—æ®µåªèƒ½åœ¨åˆ›å»ºçš„æ—¶å€™è¢«èµ‹å€¼ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ `readonly` å®šä¹‰åªè¯»å±æ€§ï¼š

```ts
interface Person {
    readonly id: number
    name: string
    age?: number
    [propName: string]: any
}

let tom: Person = {
    id: 89757,
    name: 'Tom',
    gender: 'male'
}

tom.id = 9527

// index.ts(14,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property.
```

ä¸Šä¾‹ä¸­ï¼Œä½¿ç”¨ `readonly` å®šä¹‰çš„å±æ€§ `id` åˆå§‹åŒ–åï¼Œåˆè¢«èµ‹å€¼äº†ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚

**æ³¨æ„ï¼Œåªè¯»çš„çº¦æŸå­˜åœ¨äºç¬¬ä¸€æ¬¡ç»™å¯¹è±¡èµ‹å€¼çš„æ—¶å€™ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€æ¬¡ç»™åªè¯»å±æ€§èµ‹å€¼çš„æ—¶å€™**ï¼š

```ts
interface Person {
    readonly id: number
    name: string
    age?: number
    [propName: string]: any
}

let tom: Person = {
    name: 'Tom',
    gender: 'male'
}

tom.id = 89757

// index.ts(8,5): error TS2322: Type '{ name: string gender: string }' is not assignable to type 'Person'.
//   Property 'id' is missing in type '{ name: string gender: string }'.
// index.ts(13,5): error TS2540: Cannot assign to 'id' because it is a constant or a read-only property.
```

ä¸Šä¾‹ä¸­ï¼ŒæŠ¥é”™ä¿¡æ¯æœ‰ä¸¤å¤„ï¼Œç¬¬ä¸€å¤„æ˜¯åœ¨å¯¹ `tom` è¿›è¡Œèµ‹å€¼çš„æ—¶å€™ï¼Œæ²¡æœ‰ç»™ `id` èµ‹å€¼ã€‚

ç¬¬äºŒå¤„æ˜¯åœ¨ç»™ `tom.id` èµ‹å€¼çš„æ—¶å€™ï¼Œç”±äºå®ƒæ˜¯åªè¯»å±æ€§ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚


## æ•°ç»„çš„ç±»å‹

åœ¨ TypeScript ä¸­ï¼Œæ•°ç»„ç±»å‹æœ‰å¤šç§å®šä¹‰æ–¹å¼ï¼Œæ¯”è¾ƒçµæ´»ã€‚

### ã€Œç±»å‹ + æ–¹æ‹¬å·ã€è¡¨ç¤ºæ³•

æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ã€Œç±»å‹ + æ–¹æ‹¬å·ã€æ¥è¡¨ç¤ºæ•°ç»„ï¼š

```ts
let fibonacci: number[] = [1, 1, 2, 3, 5]
```

æ•°ç»„çš„é¡¹ä¸­**ä¸å…è®¸**å‡ºç°å…¶ä»–çš„ç±»å‹ï¼š

```ts
let fibonacci: number[] = [1, '1', 2, 3, 5]

// Type 'string' is not assignable to type 'number'.
```

æ•°ç»„çš„ä¸€äº›æ–¹æ³•çš„å‚æ•°ä¹Ÿä¼šæ ¹æ®æ•°ç»„åœ¨å®šä¹‰æ—¶çº¦å®šçš„ç±»å‹è¿›è¡Œé™åˆ¶ï¼š

```ts
let fibonacci: number[] = [1, 1, 2, 3, 5]
fibonacci.push('8')

// Argument of type ''8'' is not assignable to parameter of type 'number'.
```

ä¸Šä¾‹ä¸­ï¼Œ`push` æ–¹æ³•åªå…è®¸ä¼ å…¥ `number` ç±»å‹çš„å‚æ•°ï¼Œä½†æ˜¯å´ä¼ äº†ä¸€ä¸ª `'8'` ç±»å‹çš„å‚æ•°ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚è¿™é‡Œ `'8'` æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ï¼Œä¼šåœ¨åç»­ç« èŠ‚ä¸­è¯¦ç»†ä»‹ç»ã€‚

### æ•°ç»„æ³›å‹

æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ˆArray Genericï¼‰ `Array<elemType>` æ¥è¡¨ç¤ºæ•°ç»„ï¼š

```ts
let fibonacci: Array<number> = [1, 1, 2, 3, 5]
```

å…³äºæ³›å‹ï¼Œå¯ä»¥å‚è€ƒ[æ³›å‹](../advanced/generics.md)ä¸€ç« ã€‚

### ç”¨æ¥å£è¡¨ç¤ºæ•°ç»„

æ¥å£ä¹Ÿå¯ä»¥ç”¨æ¥æè¿°æ•°ç»„ï¼š

```ts
interface NumberArray {
    [index: number]: number
}
let fibonacci: NumberArray = [1, 1, 2, 3, 5]
```

`NumberArray` è¡¨ç¤ºï¼šåªè¦ç´¢å¼•çš„ç±»å‹æ˜¯æ•°å­—æ—¶ï¼Œé‚£ä¹ˆå€¼çš„ç±»å‹å¿…é¡»æ˜¯æ•°å­—ã€‚

è™½ç„¶æ¥å£ä¹Ÿå¯ä»¥ç”¨æ¥æè¿°æ•°ç»„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šè¿™ä¹ˆåšï¼Œå› ä¸ºè¿™ç§æ–¹å¼æ¯”å‰ä¸¤ç§æ–¹å¼å¤æ‚å¤šäº†ã€‚

ä¸è¿‡æœ‰ä¸€ç§æƒ…å†µä¾‹å¤–ï¼Œé‚£å°±æ˜¯å®ƒå¸¸ç”¨æ¥è¡¨ç¤ºç±»æ•°ç»„ã€‚

### ç±»æ•°ç»„

ç±»æ•°ç»„ï¼ˆArray-like Objectï¼‰ä¸æ˜¯æ•°ç»„ç±»å‹ï¼Œæ¯”å¦‚ `arguments`ï¼š

```ts
function sum() {
    let args: number[] = arguments
}

// Type 'IArguments' is missing the following properties from type 'number[]': pop, push, concat, join, and 24 more.
```

ä¸Šä¾‹ä¸­ï¼Œ`arguments` å®é™…ä¸Šæ˜¯ä¸€ä¸ªç±»æ•°ç»„ï¼Œä¸èƒ½ç”¨æ™®é€šçš„æ•°ç»„çš„æ–¹å¼æ¥æè¿°ï¼Œè€Œåº”è¯¥ç”¨æ¥å£ï¼š

```ts
function sum() {
    let args: {
        [index: number]: number
        length: number
        callee: Function
    } = arguments
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é™¤äº†çº¦æŸå½“ç´¢å¼•çš„ç±»å‹æ˜¯æ•°å­—æ—¶ï¼Œå€¼çš„ç±»å‹å¿…é¡»æ˜¯æ•°å­—ä¹‹å¤–ï¼Œä¹Ÿçº¦æŸäº†å®ƒè¿˜æœ‰ `length` å’Œ `callee` ä¸¤ä¸ªå±æ€§ã€‚

äº‹å®ä¸Šå¸¸ç”¨çš„ç±»æ•°ç»„éƒ½æœ‰è‡ªå·±çš„æ¥å£å®šä¹‰ï¼Œå¦‚ `IArguments`, `NodeList`, `HTMLCollection` ç­‰ï¼š

```ts
function sum() {
    let args: IArguments = arguments
}
```

å…¶ä¸­ `IArguments` æ˜¯ TypeScript ä¸­å®šä¹‰å¥½äº†çš„ç±»å‹ï¼Œå®ƒå®é™…ä¸Šå°±æ˜¯ï¼š

```ts
interface IArguments {
    [index: number]: any
    length: number
    callee: Function
}
```

å…³äºå†…ç½®å¯¹è±¡ï¼Œå¯ä»¥å‚è€ƒ[å†…ç½®å¯¹è±¡](#å†…ç½®å¯¹è±¡)ä¸€ç« ã€‚

### any åœ¨æ•°ç»„ä¸­çš„åº”ç”¨

ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„åšæ³•æ˜¯ï¼Œç”¨ `any` è¡¨ç¤ºæ•°ç»„ä¸­å…è®¸å‡ºç°ä»»æ„ç±»å‹ï¼š

```ts
let list: any[] = ['xcatliu', 25, { website: 'http://xcatliu.com' }]
```

## å‡½æ•°çš„ç±»å‹

> [å‡½æ•°æ˜¯ JavaScript ä¸­çš„ä¸€ç­‰å…¬æ°‘](https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/ch2.html)

### å‡½æ•°å£°æ˜
:::info
åœ¨ JavaScript ä¸­ï¼Œæœ‰ä¸¤ç§å¸¸è§çš„å®šä¹‰å‡½æ•°çš„æ–¹å¼â€”â€”å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰å’Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰ï¼š
:::
```js
// å‡½æ•°å£°æ˜ï¼ˆFunction Declarationï¼‰
function sum(x, y) {
    return x + y
}

// å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰
let mySum = function (x, y) {
    return x + y
}
```

ä¸€ä¸ªå‡½æ•°æœ‰è¾“å…¥å’Œè¾“å‡ºï¼Œè¦åœ¨ TypeScript ä¸­å¯¹å…¶è¿›è¡Œçº¦æŸï¼Œéœ€è¦æŠŠè¾“å…¥å’Œè¾“å‡ºéƒ½è€ƒè™‘åˆ°ï¼Œå…¶ä¸­å‡½æ•°å£°æ˜çš„ç±»å‹å®šä¹‰è¾ƒç®€å•ï¼š

```ts
function sum(x: number, y: number): number {
    return x + y
}
```

æ³¨æ„ï¼Œ**è¾“å…¥å¤šä½™çš„ï¼ˆæˆ–è€…å°‘äºè¦æ±‚çš„ï¼‰å‚æ•°ï¼Œæ˜¯ä¸è¢«å…è®¸çš„**ï¼š

```ts
function sum(x: number, y: number): number {
    return x + y
}
sum(1, 2, 3)

// index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target.
```

```ts
function sum(x: number, y: number): number {
    return x + y
}
sum(1)

// index.ts(4,1): error TS2346: Supplied parameters do not match any signature of call target.
```

### å‡½æ•°è¡¨è¾¾å¼

å¦‚æœè¦æˆ‘ä»¬ç°åœ¨å†™ä¸€ä¸ªå¯¹å‡½æ•°è¡¨è¾¾å¼ï¼ˆFunction Expressionï¼‰çš„å®šä¹‰ï¼Œå¯èƒ½ä¼šå†™æˆè¿™æ ·ï¼š

```ts
let mySum = function (x: number, y: number): number {
    return x + y
}
```

è¿™æ˜¯å¯ä»¥é€šè¿‡ç¼–è¯‘çš„ï¼Œä¸è¿‡äº‹å®ä¸Šï¼Œä¸Šé¢çš„ä»£ç åªå¯¹ç­‰å·å³ä¾§çš„åŒ¿åå‡½æ•°è¿›è¡Œäº†ç±»å‹å®šä¹‰ï¼Œè€Œç­‰å·å·¦è¾¹çš„ `mySum`ï¼Œæ˜¯é€šè¿‡èµ‹å€¼æ“ä½œè¿›è¡Œç±»å‹æ¨è®ºè€Œæ¨æ–­å‡ºæ¥çš„ã€‚å¦‚æœéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç»™ `mySum` æ·»åŠ ç±»å‹ï¼Œåˆ™åº”è¯¥æ˜¯è¿™æ ·ï¼š

```ts
let mySum: (x: number, y: number) => number = function (x: number, y: number): number {
    return x + y
}
```
:::warning
æ³¨æ„ä¸è¦æ··æ·†äº† TypeScript ä¸­çš„ `=>` å’Œ ES6 ä¸­çš„ `=>`ã€‚

åœ¨ TypeScript çš„ç±»å‹å®šä¹‰ä¸­ï¼Œ`=>` ç”¨æ¥è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ï¼Œå·¦è¾¹æ˜¯è¾“å…¥ç±»å‹ï¼Œéœ€è¦ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå³è¾¹æ˜¯è¾“å‡ºç±»å‹ã€‚

åœ¨ ES6 ä¸­ï¼Œ`=>` å«åšç®­å¤´å‡½æ•°ï¼Œåº”ç”¨ååˆ†å¹¿æ³›ï¼Œå¯ä»¥å‚è€ƒ [ES6 ä¸­çš„ç®­å¤´å‡½æ•°][]ã€‚
:::
### ç”¨æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶
:::info
æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ¥å£çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°éœ€è¦ç¬¦åˆçš„å½¢çŠ¶
:::
```ts
interface SearchFunc {
    (source: string, subString: string): boolean
}

let mySearch: SearchFunc
mySearch = function(source: string, subString: string) {
    return source.search(subString) !== -1
}
```

### å¯é€‰å‚æ•°
:::info
å‰é¢æåˆ°ï¼Œè¾“å…¥å¤šä½™çš„ï¼ˆæˆ–è€…å°‘äºè¦æ±‚çš„ï¼‰å‚æ•°ï¼Œæ˜¯ä¸å…è®¸çš„ã€‚é‚£ä¹ˆå¦‚ä½•å®šä¹‰å¯é€‰çš„å‚æ•°å‘¢ï¼Ÿ

ä¸æ¥å£ä¸­çš„å¯é€‰å±æ€§ç±»ä¼¼ï¼Œæˆ‘ä»¬ç”¨ `?` è¡¨ç¤ºå¯é€‰çš„å‚æ•°
:::
```ts
function buildName(firstName: string, lastName?: string) {
    if (lastName) {
        return firstName + ' ' + lastName
    } else {
        return firstName
    }
}
let tomcat = buildName('Tom', 'Cat')
let tom = buildName('Tom')
```
:::warning
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯é€‰å‚æ•°å¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°åé¢ã€‚æ¢å¥è¯è¯´ï¼Œ**å¯é€‰å‚æ•°åé¢ä¸å…è®¸å†å‡ºç°å¿…éœ€å‚æ•°äº†**ï¼š
:::
```ts
function buildName(firstName?: string, lastName: string) {
    if (firstName) {
        return firstName + ' ' + lastName
    } else {
        return lastName
    }
}
let tomcat = buildName('Tom', 'Cat')
let tom = buildName(undefined, 'Tom')

// index.ts(1,40): error TS1016: A required parameter cannot follow an optional parameter.
```

### å‚æ•°é»˜è®¤å€¼
:::info
åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬å…è®¸ç»™å‡½æ•°çš„å‚æ•°æ·»åŠ é»˜è®¤å€¼ï¼Œ**TypeScript ä¼šå°†æ·»åŠ äº†é»˜è®¤å€¼çš„å‚æ•°è¯†åˆ«ä¸ºå¯é€‰å‚æ•°**ï¼š
:::
```ts
function buildName(firstName: string, lastName: string = 'Cat') {
    return firstName + ' ' + lastName
}
let tomcat = buildName('Tom', 'Cat')
let tom = buildName('Tom')
```

æ­¤æ—¶å°±ä¸å—ã€Œå¯é€‰å‚æ•°å¿…é¡»æ¥åœ¨å¿…éœ€å‚æ•°åé¢ã€çš„é™åˆ¶äº†ï¼š

```ts
function buildName(firstName: string = 'Tom', lastName: string) {
    return firstName + ' ' + lastName
}
let tomcat = buildName('Tom', 'Cat')
let cat = buildName(undefined, 'Cat')
```

> å…³äºé»˜è®¤å‚æ•°ï¼Œå¯ä»¥å‚è€ƒ [ES6 ä¸­å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼][]ã€‚

### å‰©ä½™å‚æ•°
:::info
ES6 ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `...rest` çš„æ–¹å¼è·å–å‡½æ•°ä¸­çš„å‰©ä½™å‚æ•°ï¼ˆrest å‚æ•°ï¼‰ï¼š
:::
```js
function push(array, ...items) {
    items.forEach(function(item) {
        array.push(item)
    })
}

let a = []
push(a, 1, 2, 3)
```

äº‹å®ä¸Šï¼Œ`items` æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨æ•°ç»„çš„ç±»å‹æ¥å®šä¹‰å®ƒï¼š

```ts
function push(array: any[], ...items: any[]) {
    items.forEach(function(item) {
        array.push(item)
    })
}

let a = []
push(a, 1, 2, 3)
```

æ³¨æ„ï¼Œrest å‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå…³äº rest å‚æ•°ï¼Œå¯ä»¥å‚è€ƒ [ES6 ä¸­çš„ rest å‚æ•°][]ã€‚

### é‡è½½
:::info
é‡è½½å…è®¸ä¸€ä¸ªå‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–ç±»å‹çš„å‚æ•°æ—¶ï¼Œä½œå‡ºä¸åŒçš„å¤„ç†ã€‚

æ¯”å¦‚ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªå‡½æ•° `reverse`ï¼Œè¾“å…¥æ•°å­— `123` çš„æ—¶å€™ï¼Œè¾“å‡ºåè½¬çš„æ•°å­— `321`ï¼Œè¾“å…¥å­—ç¬¦ä¸² `'hello'` çš„æ—¶å€™ï¼Œè¾“å‡ºåè½¬çš„å­—ç¬¦ä¸² `'olleh'`ã€‚

åˆ©ç”¨è”åˆç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå®ç°
:::
```ts
function reverse(x: number | string): number | string {
    if (typeof x === 'number') {
        return Number(x.toString().split('').reverse().join(''))
    } else if (typeof x === 'string') {
        return x.split('').reverse().join('')
    }
}
```

ç„¶è€Œè¿™æ ·æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯ä¸èƒ½å¤Ÿç²¾ç¡®çš„è¡¨è¾¾ï¼Œè¾“å…¥ä¸ºæ•°å­—çš„æ—¶å€™ï¼Œè¾“å‡ºä¹Ÿåº”è¯¥ä¸ºæ•°å­—ï¼Œè¾“å…¥ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œè¾“å‡ºä¹Ÿåº”è¯¥ä¸ºå­—ç¬¦ä¸²ã€‚

è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é‡è½½å®šä¹‰å¤šä¸ª `reverse` çš„å‡½æ•°ç±»å‹ï¼š

```ts
function reverse(x: number): number
function reverse(x: string): string
function reverse(x: number | string): number | string {
    if (typeof x === 'number') {
        return Number(x.toString().split('').reverse().join(''))
    } else if (typeof x === 'string') {
        return x.split('').reverse().join('')
    }
}
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬é‡å¤å®šä¹‰äº†å¤šæ¬¡å‡½æ•° `reverse`ï¼Œå‰å‡ æ¬¡éƒ½æ˜¯å‡½æ•°å®šä¹‰ï¼Œæœ€åä¸€æ¬¡æ˜¯å‡½æ•°å®ç°ã€‚åœ¨ç¼–è¾‘å™¨çš„ä»£ç æç¤ºä¸­ï¼Œå¯ä»¥æ­£ç¡®çš„çœ‹åˆ°å‰ä¸¤ä¸ªæç¤ºã€‚
:::warning
æ³¨æ„ï¼ŒTypeScript ä¼šä¼˜å…ˆä»æœ€å‰é¢çš„å‡½æ•°å®šä¹‰å¼€å§‹åŒ¹é…ï¼Œæ‰€ä»¥å¤šä¸ªå‡½æ•°å®šä¹‰å¦‚æœæœ‰åŒ…å«å…³ç³»ï¼Œéœ€è¦ä¼˜å…ˆæŠŠç²¾ç¡®çš„å®šä¹‰å†™åœ¨å‰é¢ã€‚
:::

## ç±»å‹æ–­è¨€
:::info
ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰å¯ä»¥ç”¨æ¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ã€‚
:::
### è¯­æ³•

```ts
<ç±»å‹>å€¼
```

æˆ–

```ts
å€¼ as ç±»å‹
```
:::warning
åœ¨ tsx è¯­æ³•ï¼ˆReact çš„ jsx è¯­æ³•çš„ ts ç‰ˆï¼‰ä¸­å¿…é¡»ç”¨åä¸€ç§ã€‚
:::
### ä¾‹å­ï¼šå°†ä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡æŒ‡å®šä¸ºä¸€ä¸ªæ›´åŠ å…·ä½“çš„ç±»å‹

[ä¹‹å‰æåˆ°è¿‡](#è®¿é—®è”åˆç±»å‹çš„å±æ€§æˆ–æ–¹æ³•)ï¼Œå½“ TypeScript ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬**åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•**ï¼š

```ts
function getLength(something: string | number): number {
    return something.length
}

// index.ts(2,22): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
```

è€Œæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ç¡®å®éœ€è¦åœ¨è¿˜ä¸ç¡®å®šç±»å‹çš„æ—¶å€™å°±è®¿é—®å…¶ä¸­ä¸€ä¸ªç±»å‹çš„å±æ€§æˆ–æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š

```ts
function getLength(something: string | number): number {
    if (something.length) {
        return something.length
    } else {
        return something.toString().length
    }
}

// index.ts(2,19): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
// index.ts(3,26): error TS2339: Property 'length' does not exist on type 'string | number'.
//   Property 'length' does not exist on type 'number'.
```

ä¸Šä¾‹ä¸­ï¼Œè·å– `something.length` çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚

æ­¤æ—¶å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œå°† `something` æ–­è¨€æˆ `string`ï¼š

```ts
function getLength(something: string | number): number {
    if ((<string>something).length) {
        return (<string>something).length
    } else {
        return something.toString().length
    }
}
```

ç±»å‹æ–­è¨€çš„ç”¨æ³•å¦‚ä¸Šï¼Œåœ¨éœ€è¦æ–­è¨€çš„å˜é‡å‰åŠ ä¸Š `<Type>` å³å¯ã€‚

**ç±»å‹æ–­è¨€ä¸æ˜¯ç±»å‹è½¬æ¢ï¼Œæ–­è¨€æˆä¸€ä¸ªè”åˆç±»å‹ä¸­ä¸å­˜åœ¨çš„ç±»å‹æ˜¯ä¸å…è®¸çš„**ï¼š

```ts
function toBoolean(something: string | number): boolean {
    return <boolean>something
}

// index.ts(2,10): error TS2352: Type 'string | number' cannot be converted to type 'boolean'.
//   Type 'number' is not comparable to type 'boolean'.
```

## [å£°æ˜æ–‡ä»¶](https://ts.xcatliu.com/basics/declaration-files#sheng-ming-wen-jian-zhong-de-yi-lai)
## å†…ç½®å¯¹è±¡

JavaScript ä¸­æœ‰å¾ˆå¤š[å†…ç½®å¯¹è±¡][]ï¼Œå®ƒä»¬å¯ä»¥ç›´æ¥åœ¨ TypeScript ä¸­å½“åšå®šä¹‰å¥½äº†çš„ç±»å‹ã€‚

å†…ç½®å¯¹è±¡æ˜¯æŒ‡æ ¹æ®æ ‡å‡†åœ¨å…¨å±€ä½œç”¨åŸŸï¼ˆGlobalï¼‰ä¸Šå­˜åœ¨çš„å¯¹è±¡ã€‚è¿™é‡Œçš„æ ‡å‡†æ˜¯æŒ‡ ECMAScript å’Œå…¶ä»–ç¯å¢ƒï¼ˆæ¯”å¦‚ DOMï¼‰çš„æ ‡å‡†ã€‚

### ECMAScript çš„å†…ç½®å¯¹è±¡

ECMAScript æ ‡å‡†æä¾›çš„å†…ç½®å¯¹è±¡æœ‰ï¼š

`Boolean`ã€`Error`ã€`Date`ã€`RegExp` ç­‰ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨ TypeScript ä¸­å°†å˜é‡å®šä¹‰ä¸ºè¿™äº›ç±»å‹ï¼š

```ts
let b: Boolean = new Boolean(1)
let e: Error = new Error('Error occurred')
let d: Date = new Date()
let r: RegExp = /[a-z]/
```

æ›´å¤šçš„å†…ç½®å¯¹è±¡ï¼Œå¯ä»¥æŸ¥çœ‹ [MDN çš„æ–‡æ¡£][å†…ç½®å¯¹è±¡]ã€‚

è€Œä»–ä»¬çš„å®šä¹‰æ–‡ä»¶ï¼Œåˆ™åœ¨ [TypeScript æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶][]ä¸­ã€‚

### DOM å’Œ BOM çš„å†…ç½®å¯¹è±¡

DOM å’Œ BOM æä¾›çš„å†…ç½®å¯¹è±¡æœ‰ï¼š

`Document`ã€`HTMLElement`ã€`Event`ã€`NodeList` ç­‰ã€‚

TypeScript ä¸­ä¼šç»å¸¸ç”¨åˆ°è¿™äº›ç±»å‹ï¼š

```ts
let body: HTMLElement = document.body
let allDiv: NodeList = document.querySelectorAll('div')
document.addEventListener('click', function(e: MouseEvent) {
  // Do something
})
```

å®ƒä»¬çš„å®šä¹‰æ–‡ä»¶åŒæ ·åœ¨ [TypeScript æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶][]ä¸­ã€‚

## TypeScript æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶

[TypeScript æ ¸å¿ƒåº“çš„å®šä¹‰æ–‡ä»¶][]ä¸­å®šä¹‰äº†æ‰€æœ‰æµè§ˆå™¨ç¯å¢ƒéœ€è¦ç”¨åˆ°çš„ç±»å‹ï¼Œå¹¶ä¸”æ˜¯é¢„ç½®åœ¨ TypeScript ä¸­çš„ã€‚

å½“ä½ åœ¨ä½¿ç”¨ä¸€äº›å¸¸ç”¨çš„æ–¹æ³•çš„æ—¶å€™ï¼ŒTypeScript å®é™…ä¸Šå·²ç»å¸®ä½ åšäº†å¾ˆå¤šç±»å‹åˆ¤æ–­çš„å·¥ä½œäº†ï¼Œæ¯”å¦‚ï¼š

```ts
Math.pow(10, '2')

// index.ts(1,14): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`Math.pow` å¿…é¡»æ¥å—ä¸¤ä¸ª `number` ç±»å‹çš„å‚æ•°ã€‚äº‹å®ä¸Š `Math.pow` çš„ç±»å‹å®šä¹‰å¦‚ä¸‹ï¼š

```ts
interface Math {
    /**
     * Returns the value of a base expression taken to a specified power.
     * @param x The base value of the expression.
     * @param y The exponent value of the expression.
     */
    pow(x: number, y: number): number
}
```

å†ä¸¾ä¸€ä¸ª DOM ä¸­çš„ä¾‹å­ï¼š

```ts
document.addEventListener('click', function(e) {
    console.log(e.targetCurrent)
})

// index.ts(2,17): error TS2339: Property 'targetCurrent' does not exist on type 'MouseEvent'.
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`addEventListener` æ–¹æ³•æ˜¯åœ¨ TypeScript æ ¸å¿ƒåº“ä¸­å®šä¹‰çš„ï¼š

```ts
interface Document extends Node, GlobalEventHandlers, NodeSelector, DocumentEvent {
    addEventListener(type: string, listener: (ev: MouseEvent) => any, useCapture?: boolean): void
}
```

æ‰€ä»¥ `e` è¢«æ¨æ–­æˆäº† `MouseEvent`ï¼Œè€Œ `MouseEvent` æ˜¯æ²¡æœ‰ `targetCurrent` å±æ€§çš„ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚

æ³¨æ„ï¼ŒTypeScript æ ¸å¿ƒåº“çš„å®šä¹‰ä¸­ä¸åŒ…å« Node.js éƒ¨åˆ†ã€‚

### ç”¨ TypeScript å†™ Node.js

Node.js ä¸æ˜¯å†…ç½®å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœæƒ³ç”¨ TypeScript å†™ Node.jsï¼Œåˆ™éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹å£°æ˜æ–‡ä»¶ï¼š

```bash
npm install @types/node --save-dev
```

## ç±»å‹åˆ«å

ç±»å‹åˆ«åç”¨æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚

### ç®€å•çš„ä¾‹å­

```ts
type Name = string
type NameResolver = () => string
type NameOrResolver = Name | NameResolver
function getName(n: NameOrResolver): Name {
    if (typeof n === 'string') {
        return n
    } else {
        return n()
    }
}
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `type` åˆ›å»ºç±»å‹åˆ«åã€‚

ç±»å‹åˆ«åå¸¸ç”¨äºè”åˆç±»å‹ã€‚

## å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹

å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ç”¨æ¥çº¦æŸå–å€¼åªèƒ½æ˜¯æŸå‡ ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ªã€‚

### ç®€å•çš„ä¾‹å­

```ts
type EventNames = 'click' | 'scroll' | 'mousemove'
function handleEvent(ele: Element, event: EventNames) {
    // do something
}

handleEvent(document.getElementById('hello'), 'scroll')  // æ²¡é—®é¢˜
handleEvent(document.getElementById('world'), 'dbclick') // æŠ¥é”™ï¼Œevent ä¸èƒ½ä¸º 'dbclick'

// index.ts(7,47): error TS2345: Argument of type ''dbclick'' is not assignable to parameter of type 'EventNames'.
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `type` å®šäº†ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ç±»å‹ `EventNames`ï¼Œå®ƒåªèƒ½å–ä¸‰ç§å­—ç¬¦ä¸²ä¸­çš„ä¸€ç§ã€‚

æ³¨æ„ï¼Œ**ç±»å‹åˆ«åä¸å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹éƒ½æ˜¯ä½¿ç”¨ `type` è¿›è¡Œå®šä¹‰ã€‚**

## å…ƒç»„

æ•°ç»„åˆå¹¶äº†ç›¸åŒç±»å‹çš„å¯¹è±¡ï¼Œè€Œå…ƒç»„ï¼ˆTupleï¼‰åˆå¹¶äº†ä¸åŒç±»å‹çš„å¯¹è±¡ã€‚

å…ƒç»„èµ·æºäºå‡½æ•°ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ F#ï¼‰ï¼Œè¿™äº›è¯­è¨€ä¸­ä¼šé¢‘ç¹ä½¿ç”¨å…ƒç»„ã€‚

### ç®€å•çš„ä¾‹å­

å®šä¹‰ä¸€å¯¹å€¼åˆ†åˆ«ä¸º `string` å’Œ `number` çš„å…ƒç»„ï¼š

```ts
let tom: [string, number] = ['Tom', 25]
```

å½“èµ‹å€¼æˆ–è®¿é—®ä¸€ä¸ªå·²çŸ¥ç´¢å¼•çš„å…ƒç´ æ—¶ï¼Œä¼šå¾—åˆ°æ­£ç¡®çš„ç±»å‹ï¼š

```ts
let tom: [string, number]
tom[0] = 'Tom'
tom[1] = 25

tom[0].slice(1)
tom[1].toFixed(2)
```

ä¹Ÿå¯ä»¥åªèµ‹å€¼å…¶ä¸­ä¸€é¡¹ï¼š

```ts
let tom: [string, number]
tom[0] = 'Tom'
```

ä½†æ˜¯å½“ç›´æ¥å¯¹å…ƒç»„ç±»å‹çš„å˜é‡è¿›è¡Œåˆå§‹åŒ–æˆ–è€…èµ‹å€¼çš„æ—¶å€™ï¼Œéœ€è¦æä¾›æ‰€æœ‰å…ƒç»„ç±»å‹ä¸­æŒ‡å®šçš„é¡¹ã€‚

```ts
let tom: [string, number]
tom = ['Tom', 25]
```

```ts
let tom: [string, number]
tom = ['Tom']

// Property '1' is missing in type '[string]' but required in type '[string, number]'.
```

### è¶Šç•Œçš„å…ƒç´ 

å½“æ·»åŠ è¶Šç•Œçš„å…ƒç´ æ—¶ï¼Œå®ƒçš„ç±»å‹ä¼šè¢«é™åˆ¶ä¸ºå…ƒç»„ä¸­æ¯ä¸ªç±»å‹çš„è”åˆç±»å‹ï¼š

```ts
let tom: [string, number]
tom = ['Tom', 25]
tom.push('male')
tom.push(true)

// Argument of type 'true' is not assignable to parameter of type 'string | number'.
```

## æšä¸¾

æšä¸¾ï¼ˆEnumï¼‰ç±»å‹ç”¨äºå–å€¼è¢«é™å®šåœ¨ä¸€å®šèŒƒå›´å†…çš„åœºæ™¯ï¼Œæ¯”å¦‚ä¸€å‘¨åªèƒ½æœ‰ä¸ƒå¤©ï¼Œé¢œè‰²é™å®šä¸ºçº¢ç»¿è“ç­‰ã€‚

### ç®€å•çš„ä¾‹å­

æšä¸¾ä½¿ç”¨ `enum` å…³é”®å­—æ¥å®šä¹‰ï¼š

```ts
enum Days {Sun, Mon, Tue, Wed, Thu, Fri, Sat}
```

æšä¸¾æˆå‘˜ä¼šè¢«èµ‹å€¼ä¸ºä» `0` å¼€å§‹é€’å¢çš„æ•°å­—ï¼ŒåŒæ—¶ä¹Ÿä¼šå¯¹æšä¸¾å€¼åˆ°æšä¸¾åè¿›è¡Œåå‘æ˜ å°„ï¼š

```ts
enum Days {Sun, Mon, Tue, Wed, Thu, Fri, Sat}

console.log(Days['Sun'] === 0) // true
console.log(Days['Mon'] === 1) // true
console.log(Days['Tue'] === 2) // true
console.log(Days['Sat'] === 6) // true

console.log(Days[0] === 'Sun') // true
console.log(Days[1] === 'Mon') // true
console.log(Days[2] === 'Tue') // true
console.log(Days[6] === 'Sat') // true
```

äº‹å®ä¸Šï¼Œä¸Šé¢çš„ä¾‹å­ä¼šè¢«ç¼–è¯‘ä¸ºï¼š

```js
var Days
(function (Days) {
    Days[Days['Sun'] = 0] = 'Sun'
    Days[Days['Mon'] = 1] = 'Mon'
    Days[Days['Tue'] = 2] = 'Tue'
    Days[Days['Wed'] = 3] = 'Wed'
    Days[Days['Thu'] = 4] = 'Thu'
    Days[Days['Fri'] = 5] = 'Fri'
    Days[Days['Sat'] = 6] = 'Sat'
})(Days || (Days = {}))
```

### æ‰‹åŠ¨èµ‹å€¼

æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™æšä¸¾é¡¹æ‰‹åŠ¨èµ‹å€¼ï¼š

```ts
enum Days {Sun = 7, Mon = 1, Tue, Wed, Thu, Fri, Sat}

console.log(Days['Sun'] === 7) // true
console.log(Days['Mon'] === 1) // true
console.log(Days['Tue'] === 2) // true
console.log(Days['Sat'] === 6) // true
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæœªæ‰‹åŠ¨èµ‹å€¼çš„æšä¸¾é¡¹ä¼šæ¥ç€ä¸Šä¸€ä¸ªæšä¸¾é¡¹é€’å¢ã€‚

å¦‚æœæœªæ‰‹åŠ¨èµ‹å€¼çš„æšä¸¾é¡¹ä¸æ‰‹åŠ¨èµ‹å€¼çš„é‡å¤äº†ï¼ŒTypeScript æ˜¯ä¸ä¼šå¯Ÿè§‰åˆ°è¿™ä¸€ç‚¹çš„ï¼š

```ts
enum Days {Sun = 3, Mon = 1, Tue, Wed, Thu, Fri, Sat}

console.log(Days['Sun'] === 3) // true
console.log(Days['Wed'] === 3) // true
console.log(Days[3] === 'Sun') // false
console.log(Days[3] === 'Wed') // true
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé€’å¢åˆ° `3` çš„æ—¶å€™ä¸å‰é¢çš„ `Sun` çš„å–å€¼é‡å¤äº†ï¼Œä½†æ˜¯ TypeScript å¹¶æ²¡æœ‰æŠ¥é”™ï¼Œå¯¼è‡´ `Days[3]` çš„å€¼å…ˆæ˜¯ `'Sun'`ï¼Œè€Œååˆè¢« `'Wed'` è¦†ç›–äº†ã€‚ç¼–è¯‘çš„ç»“æœæ˜¯ï¼š

```js
var Days
(function (Days) {
    Days[Days['Sun'] = 3] = 'Sun'
    Days[Days['Mon'] = 1] = 'Mon'
    Days[Days['Tue'] = 2] = 'Tue'
    Days[Days['Wed'] = 3] = 'Wed'
    Days[Days['Thu'] = 4] = 'Thu'
    Days[Days['Fri'] = 5] = 'Fri'
    Days[Days['Sat'] = 6] = 'Sat'
})(Days || (Days = {}))
```

æ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œæœ€å¥½ä¸è¦å‡ºç°è¿™ç§è¦†ç›–çš„æƒ…å†µã€‚

æ‰‹åŠ¨èµ‹å€¼çš„æšä¸¾é¡¹å¯ä»¥ä¸æ˜¯æ•°å­—ï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨ç±»å‹æ–­è¨€æ¥è®© tsc æ— è§†ç±»å‹æ£€æŸ¥ (ç¼–è¯‘å‡ºçš„ js ä»ç„¶æ˜¯å¯ç”¨çš„)ï¼š

```ts
enum Days {Sun = 7, Mon, Tue, Wed, Thu, Fri, Sat = <any>'S'}
```

```js
var Days
(function (Days) {
    Days[Days['Sun'] = 7] = 'Sun'
    Days[Days['Mon'] = 8] = 'Mon'
    Days[Days['Tue'] = 9] = 'Tue'
    Days[Days['Wed'] = 10] = 'Wed'
    Days[Days['Thu'] = 11] = 'Thu'
    Days[Days['Fri'] = 12] = 'Fri'
    Days[Days['Sat'] = 'S'] = 'Sat'
})(Days || (Days = {}))
```

å½“ç„¶ï¼Œæ‰‹åŠ¨èµ‹å€¼çš„æšä¸¾é¡¹ä¹Ÿå¯ä»¥ä¸ºå°æ•°æˆ–è´Ÿæ•°ï¼Œæ­¤æ—¶åç»­æœªæ‰‹åŠ¨èµ‹å€¼çš„é¡¹çš„é€’å¢æ­¥é•¿ä»ä¸º `1`ï¼š

```ts
enum Days {Sun = 7, Mon = 1.5, Tue, Wed, Thu, Fri, Sat}

console.log(Days['Sun'] === 7) // true
console.log(Days['Mon'] === 1.5) // true
console.log(Days['Tue'] === 2.5) // true
console.log(Days['Sat'] === 6.5) // true
```

### å¸¸æ•°é¡¹å’Œè®¡ç®—æ‰€å¾—é¡¹

æšä¸¾é¡¹æœ‰ä¸¤ç§ç±»å‹ï¼šå¸¸æ•°é¡¹ï¼ˆconstant memberï¼‰å’Œè®¡ç®—æ‰€å¾—é¡¹ï¼ˆcomputed memberï¼‰ã€‚

å‰é¢æˆ‘ä»¬æ‰€ä¸¾çš„ä¾‹å­éƒ½æ˜¯å¸¸æ•°é¡¹ï¼Œä¸€ä¸ªå…¸å‹çš„è®¡ç®—æ‰€å¾—é¡¹çš„ä¾‹å­ï¼š

```ts
enum Color {Red, Green, Blue = 'blue'.length}
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`'blue'.length` å°±æ˜¯ä¸€ä¸ªè®¡ç®—æ‰€å¾—é¡¹ã€‚

ä¸Šé¢çš„ä¾‹å­ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯**å¦‚æœç´§æ¥åœ¨è®¡ç®—æ‰€å¾—é¡¹åé¢çš„æ˜¯æœªæ‰‹åŠ¨èµ‹å€¼çš„é¡¹ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå› ä¸ºæ— æ³•è·å¾—åˆå§‹å€¼è€ŒæŠ¥é”™**ï¼š

```ts
enum Color {Red = 'red'.length, Green, Blue}

// index.ts(1,33): error TS1061: Enum member must have initializer.
// index.ts(1,40): error TS1061: Enum member must have initializer.
```

ä¸‹é¢æ˜¯å¸¸æ•°é¡¹å’Œè®¡ç®—æ‰€å¾—é¡¹çš„å®Œæ•´å®šä¹‰ï¼Œéƒ¨åˆ†å¼•ç”¨è‡ª[ä¸­æ–‡æ‰‹å†Œ - æšä¸¾]ï¼š

å½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œæšä¸¾æˆå‘˜è¢«å½“ä½œæ˜¯å¸¸æ•°ï¼š

- ä¸å…·æœ‰åˆå§‹åŒ–å‡½æ•°å¹¶ä¸”ä¹‹å‰çš„æšä¸¾æˆå‘˜æ˜¯å¸¸æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“å‰æšä¸¾æˆå‘˜çš„å€¼ä¸ºä¸Šä¸€ä¸ªæšä¸¾æˆå‘˜çš„å€¼åŠ  `1`ã€‚ä½†ç¬¬ä¸€ä¸ªæšä¸¾å…ƒç´ æ˜¯ä¸ªä¾‹å¤–ã€‚å¦‚æœå®ƒæ²¡æœ‰åˆå§‹åŒ–æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒçš„åˆå§‹å€¼ä¸º `0`ã€‚
- æšä¸¾æˆå‘˜ä½¿ç”¨å¸¸æ•°æšä¸¾è¡¨è¾¾å¼åˆå§‹åŒ–ã€‚å¸¸æ•°æšä¸¾è¡¨è¾¾å¼æ˜¯ TypeScript è¡¨è¾¾å¼çš„å­é›†ï¼Œå®ƒå¯ä»¥åœ¨ç¼–è¯‘é˜¶æ®µæ±‚å€¼ã€‚å½“ä¸€ä¸ªè¡¨è¾¾å¼æ»¡è¶³ä¸‹é¢æ¡ä»¶ä¹‹ä¸€æ—¶ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå¸¸æ•°æšä¸¾è¡¨è¾¾å¼ï¼š
  - æ•°å­—å­—é¢é‡
  - å¼•ç”¨ä¹‹å‰å®šä¹‰çš„å¸¸æ•°æšä¸¾æˆå‘˜ï¼ˆå¯ä»¥æ˜¯åœ¨ä¸åŒçš„æšä¸¾ç±»å‹ä¸­å®šä¹‰çš„ï¼‰å¦‚æœè¿™ä¸ªæˆå‘˜æ˜¯åœ¨åŒä¸€ä¸ªæšä¸¾ç±»å‹ä¸­å®šä¹‰çš„ï¼Œå¯ä»¥ä½¿ç”¨éé™å®šåæ¥å¼•ç”¨
  - å¸¦æ‹¬å·çš„å¸¸æ•°æšä¸¾è¡¨è¾¾å¼
  - `+`, `-`, `~` ä¸€å…ƒè¿ç®—ç¬¦åº”ç”¨äºå¸¸æ•°æšä¸¾è¡¨è¾¾å¼
  - `+`, `-`, `*`, `/`, `%`, `<<`, `>>`, `>>>`, `&`, `|`, `^` äºŒå…ƒè¿ç®—ç¬¦ï¼Œå¸¸æ•°æšä¸¾è¡¨è¾¾å¼åšä¸ºå…¶ä¸€ä¸ªæ“ä½œå¯¹è±¡ã€‚è‹¥å¸¸æ•°æšä¸¾è¡¨è¾¾å¼æ±‚å€¼åä¸º NaN æˆ– Infinityï¼Œåˆ™ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæŠ¥é”™

æ‰€æœ‰å…¶å®ƒæƒ…å†µçš„æšä¸¾æˆå‘˜è¢«å½“ä½œæ˜¯éœ€è¦è®¡ç®—å¾—å‡ºçš„å€¼ã€‚

### å¸¸æ•°æšä¸¾

å¸¸æ•°æšä¸¾æ˜¯ä½¿ç”¨ `const enum` å®šä¹‰çš„æšä¸¾ç±»å‹ï¼š

```ts
const enum Directions {
    Up,
    Down,
    Left,
    Right
}

let directions = [Directions.Up, Directions.Down, Directions.Left, Directions.Right]
```

å¸¸æ•°æšä¸¾ä¸æ™®é€šæšä¸¾çš„åŒºåˆ«æ˜¯ï¼Œå®ƒä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¢«åˆ é™¤ï¼Œå¹¶ä¸”ä¸èƒ½åŒ…å«è®¡ç®—æˆå‘˜ã€‚

ä¸Šä¾‹çš„ç¼–è¯‘ç»“æœæ˜¯ï¼š

```js
var directions = [0 /* Up */, 1 /* Down */, 2 /* Left */, 3 /* Right */]
```

å‡å¦‚åŒ…å«äº†è®¡ç®—æˆå‘˜ï¼Œåˆ™ä¼šåœ¨ç¼–è¯‘é˜¶æ®µæŠ¥é”™ï¼š

```ts
const enum Color {Red, Green, Blue = 'blue'.length}

// index.ts(1,38): error TS2474: In 'const' enum declarations member initializer must be constant expression.
```

### å¤–éƒ¨æšä¸¾

å¤–éƒ¨æšä¸¾ï¼ˆAmbient Enumsï¼‰æ˜¯ä½¿ç”¨ `declare enum` å®šä¹‰çš„æšä¸¾ç±»å‹ï¼š

```ts
declare enum Directions {
    Up,
    Down,
    Left,
    Right
}

let directions = [Directions.Up, Directions.Down, Directions.Left, Directions.Right]
```

ä¹‹å‰æåˆ°è¿‡ï¼Œ`declare` å®šä¹‰çš„ç±»å‹åªä¼šç”¨äºç¼–è¯‘æ—¶çš„æ£€æŸ¥ï¼Œç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ã€‚

ä¸Šä¾‹çš„ç¼–è¯‘ç»“æœæ˜¯ï¼š

```js
var directions = [Directions.Up, Directions.Down, Directions.Left, Directions.Right]
```

å¤–éƒ¨æšä¸¾ä¸å£°æ˜è¯­å¥ä¸€æ ·ï¼Œå¸¸å‡ºç°åœ¨å£°æ˜æ–‡ä»¶ä¸­ã€‚

åŒæ—¶ä½¿ç”¨ `declare` å’Œ `const` ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š

```ts
declare const enum Directions {
    Up,
    Down,
    Left,
    Right
}

let directions = [Directions.Up, Directions.Down, Directions.Left, Directions.Right]
```

ç¼–è¯‘ç»“æœï¼š

```js
var directions = [0 /* Up */, 1 /* Down */, 2 /* Left */, 3 /* Right */]
```

> TypeScript çš„æšä¸¾ç±»å‹çš„æ¦‚å¿µ [æ¥æºäº C#][C# Enum] ã€‚


## ç±»

ä¼ ç»Ÿæ–¹æ³•ä¸­ï¼ŒJavaScript é€šè¿‡æ„é€ å‡½æ•°å®ç°ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿ã€‚è€Œåœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬ç»ˆäºè¿æ¥äº† `class`ã€‚

TypeScript é™¤äº†å®ç°äº†æ‰€æœ‰ ES6 ä¸­çš„ç±»çš„åŠŸèƒ½ä»¥å¤–ï¼Œè¿˜æ·»åŠ äº†ä¸€äº›æ–°çš„ç”¨æ³•ã€‚

è¿™ä¸€èŠ‚ä¸»è¦ä»‹ç»ç±»çš„ç”¨æ³•ï¼Œä¸‹ä¸€èŠ‚å†ä»‹ç»å¦‚ä½•å®šä¹‰ç±»çš„ç±»å‹ã€‚

### ç±»çš„æ¦‚å¿µ

è™½ç„¶ JavaScript ä¸­æœ‰ç±»çš„æ¦‚å¿µï¼Œä½†æ˜¯å¯èƒ½å¤§å¤šæ•° JavaScript ç¨‹åºå‘˜å¹¶ä¸æ˜¯éå¸¸ç†Ÿæ‚‰ç±»ï¼Œè¿™é‡Œå¯¹ç±»ç›¸å…³çš„æ¦‚å¿µåšä¸€ä¸ªç®€å•çš„ä»‹ç»ã€‚

- ç±»(Class)ï¼šå®šä¹‰äº†ä¸€ä»¶äº‹ç‰©çš„æŠ½è±¡ç‰¹ç‚¹ï¼ŒåŒ…å«å®ƒçš„å±æ€§å’Œæ–¹æ³•
- å¯¹è±¡ï¼ˆObjectï¼‰ï¼šç±»çš„å®ä¾‹ï¼Œé€šè¿‡ `new` ç”Ÿæˆ
- é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰çš„ä¸‰å¤§ç‰¹æ€§ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€
- å°è£…ï¼ˆEncapsulationï¼‰ï¼šå°†å¯¹æ•°æ®çš„æ“ä½œç»†èŠ‚éšè—èµ·æ¥ï¼Œåªæš´éœ²å¯¹å¤–çš„æ¥å£ã€‚å¤–ç•Œè°ƒç”¨ç«¯ä¸éœ€è¦ï¼ˆä¹Ÿä¸å¯èƒ½ï¼‰çŸ¥é“ç»†èŠ‚ï¼Œå°±èƒ½é€šè¿‡å¯¹å¤–æä¾›çš„æ¥å£æ¥è®¿é—®è¯¥å¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†å¤–ç•Œæ— æ³•ä»»æ„æ›´æ”¹å¯¹è±¡å†…éƒ¨çš„æ•°æ®
- ç»§æ‰¿ï¼ˆInheritanceï¼‰ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œå­ç±»é™¤äº†æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰ç‰¹æ€§å¤–ï¼Œè¿˜æœ‰ä¸€äº›æ›´å…·ä½“çš„ç‰¹æ€§
- å¤šæ€ï¼ˆPolymorphismï¼‰ï¼šç”±ç»§æ‰¿è€Œäº§ç”Ÿäº†ç›¸å…³çš„ä¸åŒçš„ç±»ï¼Œå¯¹åŒä¸€ä¸ªæ–¹æ³•å¯ä»¥æœ‰ä¸åŒçš„å“åº”ã€‚æ¯”å¦‚ `Cat` å’Œ `Dog` éƒ½ç»§æ‰¿è‡ª `Animal`ï¼Œä½†æ˜¯åˆ†åˆ«å®ç°äº†è‡ªå·±çš„ `eat` æ–¹æ³•ã€‚æ­¤æ—¶é’ˆå¯¹æŸä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬æ— éœ€äº†è§£å®ƒæ˜¯ `Cat` è¿˜æ˜¯ `Dog`ï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨ `eat` æ–¹æ³•ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ¤æ–­å‡ºæ¥åº”è¯¥å¦‚ä½•æ‰§è¡Œ `eat`
- å­˜å–å™¨ï¼ˆgetter & setterï¼‰ï¼šç”¨ä»¥æ”¹å˜å±æ€§çš„è¯»å–å’Œèµ‹å€¼è¡Œä¸º
- ä¿®é¥°ç¬¦ï¼ˆModifiersï¼‰ï¼šä¿®é¥°ç¬¦æ˜¯ä¸€äº›å…³é”®å­—ï¼Œç”¨äºé™å®šæˆå‘˜æˆ–ç±»å‹çš„æ€§è´¨ã€‚æ¯”å¦‚ `public` è¡¨ç¤ºå…¬æœ‰å±æ€§æˆ–æ–¹æ³•
- æŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰ï¼šæŠ½è±¡ç±»æ˜¯ä¾›å…¶ä»–ç±»ç»§æ‰¿çš„åŸºç±»ï¼ŒæŠ½è±¡ç±»ä¸å…è®¸è¢«å®ä¾‹åŒ–ã€‚æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å­ç±»ä¸­è¢«å®ç°
- æ¥å£ï¼ˆInterfacesï¼‰ï¼šä¸åŒç±»ä¹‹é—´å…¬æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼Œå¯ä»¥æŠ½è±¡æˆä¸€ä¸ªæ¥å£ã€‚æ¥å£å¯ä»¥è¢«ç±»å®ç°ï¼ˆimplementsï¼‰ã€‚ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£

### ES6 ä¸­ç±»çš„ç”¨æ³•

ä¸‹é¢æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ ES6 ä¸­ç±»çš„ç”¨æ³•ï¼Œæ›´è¯¦ç»†çš„ä»‹ç»å¯ä»¥å‚è€ƒ [ECMAScript 6 å…¥é—¨ - Class]ã€‚

#### å±æ€§å’Œæ–¹æ³•

ä½¿ç”¨ `class` å®šä¹‰ç±»ï¼Œä½¿ç”¨ `constructor` å®šä¹‰æ„é€ å‡½æ•°ã€‚

é€šè¿‡ `new` ç”Ÿæˆæ–°å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨æ„é€ å‡½æ•°ã€‚

```js
class Animal {
    constructor(name) {
        this.name = name
    }
    sayHi() {
        return `My name is ${this.name}`
    }
}

let a = new Animal('Jack')
console.log(a.sayHi()) // My name is Jack
```

#### ç±»çš„ç»§æ‰¿

ä½¿ç”¨ `extends` å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå­ç±»ä¸­ä½¿ç”¨ `super` å…³é”®å­—æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°å’Œæ–¹æ³•ã€‚

```js
class Cat extends Animal {
    constructor(name) {
        super(name) // è°ƒç”¨çˆ¶ç±»çš„ constructor(name)
        console.log(this.name)
    }
    sayHi() {
        return 'Meow, ' + super.sayHi() // è°ƒç”¨çˆ¶ç±»çš„ sayHi()
    }
}

let c = new Cat('Tom') // Tom
console.log(c.sayHi()) // Meow, My name is Tom
```

#### å­˜å–å™¨

ä½¿ç”¨ getter å’Œ setter å¯ä»¥æ”¹å˜å±æ€§çš„èµ‹å€¼å’Œè¯»å–è¡Œä¸ºï¼š

```js
class Animal {
    constructor(name) {
        this.name = name
    }
    get name() {
        return 'Jack'
    }
    set name(value) {
        console.log('setter: ' + value)
    }
}

let a = new Animal('Kitty') // setter: Kitty
a.name = 'Tom' // setter: Tom
console.log(a.name) // Jack
```

#### é™æ€æ–¹æ³•

ä½¿ç”¨ `static` ä¿®é¥°ç¬¦ä¿®é¥°çš„æ–¹æ³•ç§°ä¸ºé™æ€æ–¹æ³•ï¼Œå®ƒä»¬ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡ç±»æ¥è°ƒç”¨ï¼š

```js
class Animal {
    static isAnimal(a) {
        return a instanceof Animal
    }
}

let a = new Animal('Jack')
Animal.isAnimal(a) // true
a.isAnimal(a) // TypeError: a.isAnimal is not a function
```

### ES7 ä¸­ç±»çš„ç”¨æ³•

ES7 ä¸­æœ‰ä¸€äº›å…³äºç±»çš„ææ¡ˆï¼ŒTypeScript ä¹Ÿå®ç°äº†å®ƒä»¬ï¼Œè¿™é‡Œåšä¸€ä¸ªç®€å•çš„ä»‹ç»ã€‚

#### å®ä¾‹å±æ€§

ES6 ä¸­å®ä¾‹çš„å±æ€§åªèƒ½é€šè¿‡æ„é€ å‡½æ•°ä¸­çš„ `this.xxx` æ¥å®šä¹‰ï¼ŒES7 ææ¡ˆä¸­å¯ä»¥ç›´æ¥åœ¨ç±»é‡Œé¢å®šä¹‰ï¼š

```js
class Animal {
    name = 'Jack'

    constructor() {
        // ...
    }
}

let a = new Animal()
console.log(a.name) // Jack
```

#### é™æ€å±æ€§

ES7 ææ¡ˆä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `static` å®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ï¼š

```js
class Animal {
    static num = 42

    constructor() {
        // ...
    }
}

console.log(Animal.num) // 42
```

### TypeScript ä¸­ç±»çš„ç”¨æ³•

#### public private å’Œ protected

TypeScript å¯ä»¥ä½¿ç”¨ä¸‰ç§è®¿é—®ä¿®é¥°ç¬¦ï¼ˆAccess Modifiersï¼‰ï¼Œåˆ†åˆ«æ˜¯ `public`ã€`private` å’Œ `protected`ã€‚

- `public` ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®åˆ°ï¼Œé»˜è®¤æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ `public` çš„
- `private` ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®
- `protected` ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ï¼Œå®ƒå’Œ `private` ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å®ƒåœ¨å­ç±»ä¸­ä¹Ÿæ˜¯å…è®¸è¢«è®¿é—®çš„

ä¸‹é¢ä¸¾ä¸€äº›ä¾‹å­ï¼š

```ts
class Animal {
    public name
    public constructor(name) {
        this.name = name
    }
}

let a = new Animal('Jack')
console.log(a.name) // Jack
a.name = 'Tom'
console.log(a.name) // Tom
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`name` è¢«è®¾ç½®ä¸ºäº† `public`ï¼Œæ‰€ä»¥ç›´æ¥è®¿é—®å®ä¾‹çš„ `name` å±æ€§æ˜¯å…è®¸çš„ã€‚

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›æœ‰çš„å±æ€§æ˜¯æ— æ³•ç›´æ¥å­˜å–çš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨ `private` äº†ï¼š

```ts
class Animal {
    private name
    public constructor(name) {
        this.name = name
    }
}

let a = new Animal('Jack')
console.log(a.name) // Jack
a.name = 'Tom'

// index.ts(9,13): error TS2341: Property 'name' is private and only accessible within class 'Animal'.
// index.ts(10,1): error TS2341: Property 'name' is private and only accessible within class 'Animal'.
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒTypeScript ç¼–è¯‘ä¹‹åçš„ä»£ç ä¸­ï¼Œå¹¶æ²¡æœ‰é™åˆ¶ `private` å±æ€§åœ¨å¤–éƒ¨çš„å¯è®¿é—®æ€§ã€‚

ä¸Šé¢çš„ä¾‹å­ç¼–è¯‘åçš„ä»£ç æ˜¯ï¼š

```js
var Animal = (function () {
    function Animal(name) {
        this.name = name
    }
    return Animal
}())
var a = new Animal('Jack')
console.log(a.name)
a.name = 'Tom'
```

ä½¿ç”¨ `private` ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•ï¼Œåœ¨å­ç±»ä¸­ä¹Ÿæ˜¯ä¸å…è®¸è®¿é—®çš„ï¼š

```ts
class Animal {
    private name
    public constructor(name) {
        this.name = name
    }
}

class Cat extends Animal {
    constructor(name) {
        super(name)
        console.log(this.name)
    }
}

// index.ts(11,17): error TS2341: Property 'name' is private and only accessible within class 'Animal'.
```

è€Œå¦‚æœæ˜¯ç”¨ `protected` ä¿®é¥°ï¼Œåˆ™å…è®¸åœ¨å­ç±»ä¸­è®¿é—®ï¼š

```ts
class Animal {
    protected name
    public constructor(name) {
        this.name = name
    }
}

class Cat extends Animal {
    constructor(name) {
        super(name)
        console.log(this.name)
    }
}
```

å½“æ„é€ å‡½æ•°ä¿®é¥°ä¸º `private` æ—¶ï¼Œè¯¥ç±»ä¸å…è®¸è¢«ç»§æ‰¿æˆ–è€…å®ä¾‹åŒ–ï¼š

```ts
class Animal {
    public name
    private constructor (name) {
        this.name = name
  }
}
class Cat extends Animal {
    constructor (name) {
        super(name)
    }
}

let a = new Animal('Jack')

// index.ts(7,19): TS2675: Cannot extend a class 'Animal'. Class constructor is marked as private.
// index.ts(13,9): TS2673: Constructor of class 'Animal' is private and only accessible within the class declaration.
```

å½“æ„é€ å‡½æ•°ä¿®é¥°ä¸º `protected` æ—¶ï¼Œè¯¥ç±»åªå…è®¸è¢«ç»§æ‰¿ï¼š

```ts
class Animal {
    public name
    protected constructor (name) {
        this.name = name
  }
}
class Cat extends Animal {
    constructor (name) {
        super(name)
    }
}

let a = new Animal('Jack')

// index.ts(13,9): TS2674: Constructor of class 'Animal' is protected and only accessible within the class declaration.
```

#### å‚æ•°å±æ€§

ä¿®é¥°ç¬¦å’Œ`readonly`è¿˜å¯ä»¥ä½¿ç”¨åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚

```ts
class Animal {
    // public name: string
    public constructor (public name) {
        // this.name = name
    }
}
```

#### readonly

åªè¯»å±æ€§å…³é”®å­—ï¼Œåªå…è®¸å‡ºç°åœ¨å±æ€§å£°æ˜æˆ–ç´¢å¼•ç­¾åæˆ–æ„é€ å‡½æ•°ä¸­ã€‚

```ts
class Animal {
    readonly name
    public constructor(name) {
        this.name = name
    }
}

let a = new Animal('Jack')
console.log(a.name) // Jack
a.name = 'Tom'

// index.ts(10,3): TS2540: Cannot assign to 'name' because it is a read-only property.
```

æ³¨æ„å¦‚æœ `readonly` å’Œå…¶ä»–è®¿é—®ä¿®é¥°ç¬¦åŒæ—¶å­˜åœ¨çš„è¯ï¼Œéœ€è¦å†™åœ¨å…¶åé¢ã€‚

```ts
class Animal {
    // public readonly name
    public constructor(public readonly name) {
        // this.name = name
    }
}
```

#### æŠ½è±¡ç±»

`abstract` ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œå…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚

ä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼Ÿ

é¦–å…ˆï¼ŒæŠ½è±¡ç±»æ˜¯ä¸å…è®¸è¢«å®ä¾‹åŒ–çš„ï¼š

```ts
abstract class Animal {
    public name
    public constructor(name) {
        this.name = name
    }
    public abstract sayHi()
}

let a = new Animal('Jack')

// index.ts(9,11): error TS2511: Cannot create an instance of the abstract class 'Animal'.
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡ç±» `Animal`ï¼Œå¹¶ä¸”å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³• `sayHi`ã€‚åœ¨å®ä¾‹åŒ–æŠ½è±¡ç±»çš„æ—¶å€™æŠ¥é”™äº†ã€‚

å…¶æ¬¡ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»è¢«å­ç±»å®ç°ï¼š

```ts
abstract class Animal {
    public name
    public constructor(name) {
        this.name = name
    }
    public abstract sayHi()
}

class Cat extends Animal {
    public eat() {
        console.log(`${this.name} is eating.`)
    }
}

let cat = new Cat('Tom')

// index.ts(9,7): error TS2515: Non-abstract class 'Cat' does not implement inherited abstract member 'sayHi' from class 'Animal'.
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç±» `Cat` ç»§æ‰¿äº†æŠ½è±¡ç±» `Animal`ï¼Œä½†æ˜¯æ²¡æœ‰å®ç°æŠ½è±¡æ–¹æ³• `sayHi`ï¼Œæ‰€ä»¥ç¼–è¯‘æŠ¥é”™äº†ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªæ­£ç¡®ä½¿ç”¨æŠ½è±¡ç±»çš„ä¾‹å­ï¼š

```ts
abstract class Animal {
    public name
    public constructor(name) {
        this.name = name
    }
    public abstract sayHi()
}

class Cat extends Animal {
    public sayHi() {
        console.log(`Meow, My name is ${this.name}`)
    }
}

let cat = new Cat('Tom')
```

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†æŠ½è±¡æ–¹æ³• `sayHi`ï¼Œç¼–è¯‘é€šè¿‡äº†ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿æ˜¯æŠ½è±¡æ–¹æ³•ï¼ŒTypeScript çš„ç¼–è¯‘ç»“æœä¸­ï¼Œä»ç„¶ä¼šå­˜åœ¨è¿™ä¸ªç±»ï¼Œä¸Šé¢çš„ä»£ç çš„ç¼–è¯‘ç»“æœæ˜¯ï¼š

```js
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]
    function __() { this.constructor = d }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __())
}
var Animal = (function () {
    function Animal(name) {
        this.name = name
    }
    return Animal
}())
var Cat = (function (_super) {
    __extends(Cat, _super)
    function Cat() {
        _super.apply(this, arguments)
    }
    Cat.prototype.sayHi = function () {
        console.log('Meow, My name is ' + this.name)
    }
    return Cat
}(Animal))
var cat = new Cat('Tom')
```

### ç±»çš„ç±»å‹

ç»™ç±»åŠ ä¸Š TypeScript çš„ç±»å‹å¾ˆç®€å•ï¼Œä¸æ¥å£ç±»ä¼¼ï¼š

```ts
class Animal {
    name: string
    constructor(name: string) {
        this.name = name
    }
    sayHi(): string {
  Â  Â  return `My name is ${this.name}`
    }
}

let a: Animal = new Animal('Jack')
console.log(a.sayHi()) // My name is Jack
```


## ç±»ä¸æ¥å£

[ä¹‹å‰å­¦ä¹ è¿‡](../basics/type-of-object-interfaces.md)ï¼Œæ¥å£ï¼ˆInterfacesï¼‰å¯ä»¥ç”¨äºå¯¹ã€Œå¯¹è±¡çš„å½¢çŠ¶ï¼ˆShapeï¼‰ã€è¿›è¡Œæè¿°ã€‚

è¿™ä¸€ç« ä¸»è¦ä»‹ç»æ¥å£çš„å¦ä¸€ä¸ªç”¨é€”ï¼Œå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ã€‚

### ç±»å®ç°æ¥å£

å®ç°ï¼ˆimplementsï¼‰æ˜¯é¢å‘å¯¹è±¡ä¸­çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼Œæœ‰æ—¶å€™ä¸åŒç±»ä¹‹é—´å¯ä»¥æœ‰ä¸€äº›å…±æœ‰çš„ç‰¹æ€§ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æŠŠç‰¹æ€§æå–æˆæ¥å£ï¼ˆinterfacesï¼‰ï¼Œç”¨ `implements` å…³é”®å­—æ¥å®ç°ã€‚è¿™ä¸ªç‰¹æ€§å¤§å¤§æé«˜äº†é¢å‘å¯¹è±¡çš„çµæ´»æ€§ã€‚

ä¸¾ä¾‹æ¥è¯´ï¼Œé—¨æ˜¯ä¸€ä¸ªç±»ï¼Œé˜²ç›—é—¨æ˜¯é—¨çš„å­ç±»ã€‚å¦‚æœé˜²ç›—é—¨æœ‰ä¸€ä¸ªæŠ¥è­¦å™¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç»™é˜²ç›—é—¨æ·»åŠ ä¸€ä¸ªæŠ¥è­¦æ–¹æ³•ã€‚è¿™æ—¶å€™å¦‚æœæœ‰å¦ä¸€ä¸ªç±»ï¼Œè½¦ï¼Œä¹Ÿæœ‰æŠ¥è­¦å™¨çš„åŠŸèƒ½ï¼Œå°±å¯ä»¥è€ƒè™‘æŠŠæŠ¥è­¦å™¨æå–å‡ºæ¥ï¼Œä½œä¸ºä¸€ä¸ªæ¥å£ï¼Œé˜²ç›—é—¨å’Œè½¦éƒ½å»å®ç°å®ƒï¼š

```ts
interface Alarm {
    alert()
}

class Door {
}

class SecurityDoor extends Door implements Alarm {
    alert() {
        console.log('SecurityDoor alert')
    }
}

class Car implements Alarm {
    alert() {
        console.log('Car alert')
    }
}
```

ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼š

```ts
interface Alarm {
    alert()
}

interface Light {
    lightOn()
    lightOff()
}

class Car implements Alarm, Light {
    alert() {
        console.log('Car alert')
    }
    lightOn() {
        console.log('Car light on')
    }
    lightOff() {
        console.log('Car light off')
    }
}
```

ä¸Šä¾‹ä¸­ï¼Œ`Car` å®ç°äº† `Alarm` å’Œ `Light` æ¥å£ï¼Œæ—¢èƒ½æŠ¥è­¦ï¼Œä¹Ÿèƒ½å¼€å…³è½¦ç¯ã€‚

### æ¥å£ç»§æ‰¿æ¥å£

æ¥å£ä¸æ¥å£ä¹‹é—´å¯ä»¥æ˜¯ç»§æ‰¿å…³ç³»ï¼š

```ts
interface Alarm {
    alert()
}

interface LightableAlarm extends Alarm {
    lightOn()
    lightOff()
}
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `extends` ä½¿ `LightableAlarm` ç»§æ‰¿ `Alarm`ã€‚

### æ¥å£ç»§æ‰¿ç±»

æ¥å£ä¹Ÿå¯ä»¥ç»§æ‰¿ç±»ï¼š

```ts
class Point {
    x: number
    y: number
}

interface Point3d extends Point {
    z: number
}

let point3d: Point3d = {x: 1, y: 2, z: 3}
```

### æ··åˆç±»å‹

[ä¹‹å‰å­¦ä¹ è¿‡](../basics/type-of-function.md#æ¥å£ä¸­å‡½æ•°çš„å®šä¹‰)ï¼Œå¯ä»¥ä½¿ç”¨æ¥å£çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°éœ€è¦ç¬¦åˆçš„å½¢çŠ¶ï¼š

```ts
interface SearchFunc {
    (source: string, subString: string): boolean
}

let mySearch: SearchFunc
mySearch = function(source: string, subString: string) {
    return source.search(subString) !== -1
}
```

æœ‰æ—¶å€™ï¼Œä¸€ä¸ªå‡½æ•°è¿˜å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼š

```ts
interface Counter {
    (start: number): string
    interval: number
    reset(): void
}

function getCounter(): Counter {
    let counter = <Counter>function (start: number) { }
    counter.interval = 123
    counter.reset = function () { }
    return counter
}

let c = getCounter()
c(10)
c.reset()
c.interval = 5.0
```


## æ³›å‹

æ³›å‹ï¼ˆGenericsï¼‰æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚

### ç®€å•çš„ä¾‹å­

é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå‡½æ•° `createArray`ï¼Œå®ƒå¯ä»¥åˆ›å»ºä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„æ•°ç»„ï¼ŒåŒæ—¶å°†æ¯ä¸€é¡¹éƒ½å¡«å……ä¸€ä¸ªé»˜è®¤å€¼ï¼š

```ts
function createArray(length: number, value: any): Array<any> {
    let result = []
    for (let i = 0 i < length i++) {
        result[i] = value
    }
    return result
}

createArray(3, 'x') // ['x', 'x', 'x']
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†[ä¹‹å‰æåˆ°è¿‡çš„æ•°ç»„æ³›å‹](../basics/type-of-array.md#æ•°ç»„æ³›å‹)æ¥å®šä¹‰è¿”å›å€¼çš„ç±»å‹ã€‚

è¿™æ®µä»£ç ç¼–è¯‘ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„ç¼ºé™·æ˜¯ï¼Œå®ƒå¹¶æ²¡æœ‰å‡†ç¡®çš„å®šä¹‰è¿”å›å€¼çš„ç±»å‹ï¼š

`Array<any>` å…è®¸æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½ä¸ºä»»æ„ç±»å‹ã€‚ä½†æ˜¯æˆ‘ä»¬é¢„æœŸçš„æ˜¯ï¼Œæ•°ç»„ä¸­æ¯ä¸€é¡¹éƒ½åº”è¯¥æ˜¯è¾“å…¥çš„ `value` çš„ç±»å‹ã€‚

è¿™æ—¶å€™ï¼Œæ³›å‹å°±æ´¾ä¸Šç”¨åœºäº†ï¼š

```ts
function createArray<T>(length: number, value: T): Array<T> {
  Â  let result: T[] = []
    for (let i = 0 i < length i++) {
        result[i] = value
    }
    return result
}

createArray<string>(3, 'x') // ['x', 'x', 'x']
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°ååæ·»åŠ äº† `<T>`ï¼Œå…¶ä¸­ `T` ç”¨æ¥æŒ‡ä»£ä»»æ„è¾“å…¥çš„ç±»å‹ï¼Œåœ¨åé¢çš„è¾“å…¥ `value: T` å’Œè¾“å‡º `Array<T>` ä¸­å³å¯ä½¿ç”¨äº†ã€‚

æ¥ç€åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œå¯ä»¥æŒ‡å®šå®ƒå…·ä½“çš„ç±»å‹ä¸º `string`ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¸æ‰‹åŠ¨æŒ‡å®šï¼Œè€Œè®©ç±»å‹æ¨è®ºè‡ªåŠ¨æ¨ç®—å‡ºæ¥ï¼š

```ts
function createArray<T>(length: number, value: T): Array<T> {
    let result: T[] = []
    for (let i = 0 i < length i++) {
        result[i] = value
    }
    return result
}

createArray(3, 'x') // ['x', 'x', 'x']
```

### å¤šä¸ªç±»å‹å‚æ•°

å®šä¹‰æ³›å‹çš„æ—¶å€™ï¼Œå¯ä»¥ä¸€æ¬¡å®šä¹‰å¤šä¸ªç±»å‹å‚æ•°ï¼š

```ts
function swap<T, U>(tuple: [T, U]): [U, T] {
    return [tuple[1], tuple[0]]
}

swap([7, 'seven']) // ['seven', 7]
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª `swap` å‡½æ•°ï¼Œç”¨æ¥äº¤æ¢è¾“å…¥çš„å…ƒç»„ã€‚

### æ³›å‹çº¦æŸ

åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨æ³›å‹å˜é‡çš„æ—¶å€™ï¼Œç”±äºäº‹å…ˆä¸çŸ¥é“å®ƒæ˜¯å“ªç§ç±»å‹ï¼Œæ‰€ä»¥ä¸èƒ½éšæ„çš„æ“ä½œå®ƒçš„å±æ€§æˆ–æ–¹æ³•ï¼š

```ts
function loggingIdentity<T>(arg: T): T {
    console.log(arg.length)
    return arg
}

// index.ts(2,19): error TS2339: Property 'length' does not exist on type 'T'.
```

ä¸Šä¾‹ä¸­ï¼Œæ³›å‹ `T` ä¸ä¸€å®šåŒ…å«å±æ€§ `length`ï¼Œæ‰€ä»¥ç¼–è¯‘çš„æ—¶å€™æŠ¥é”™äº†ã€‚

è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ³›å‹è¿›è¡Œçº¦æŸï¼Œåªå…è®¸è¿™ä¸ªå‡½æ•°ä¼ å…¥é‚£äº›åŒ…å« `length` å±æ€§çš„å˜é‡ã€‚è¿™å°±æ˜¯æ³›å‹çº¦æŸï¼š

```ts
interface Lengthwise {
    length: number
}

function loggingIdentity<T extends Lengthwise>(arg: T): T {
    console.log(arg.length)
    return arg
}
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† `extends` çº¦æŸäº†æ³›å‹ `T` å¿…é¡»ç¬¦åˆæ¥å£ `Lengthwise` çš„å½¢çŠ¶ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»åŒ…å« `length` å±æ€§ã€‚

æ­¤æ—¶å¦‚æœè°ƒç”¨ `loggingIdentity` çš„æ—¶å€™ï¼Œä¼ å…¥çš„ `arg` ä¸åŒ…å« `length`ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘é˜¶æ®µå°±ä¼šæŠ¥é”™äº†ï¼š

```ts
interface Lengthwise {
    length: number
}

function loggingIdentity<T extends Lengthwise>(arg: T): T {
    console.log(arg.length)
    return arg
}

loggingIdentity(7)

// index.ts(10,17): error TS2345: Argument of type '7' is not assignable to parameter of type 'Lengthwise'.
```

å¤šä¸ªç±»å‹å‚æ•°ä¹‹é—´ä¹Ÿå¯ä»¥äº’ç›¸çº¦æŸï¼š

```ts
function copyFields<T extends U, U>(target: T, source: U): T {
    for (let id in source) {
        target[id] = (<T>source)[id]
    }
    return target
}

let x = { a: 1, b: 2, c: 3, d: 4 }

copyFields(x, { b: 10, d: 20 })
```

ä¸Šä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸¤ä¸ªç±»å‹å‚æ•°ï¼Œå…¶ä¸­è¦æ±‚ `T` ç»§æ‰¿ `U`ï¼Œè¿™æ ·å°±ä¿è¯äº† `U` ä¸Šä¸ä¼šå‡ºç° `T` ä¸­ä¸å­˜åœ¨çš„å­—æ®µã€‚

### æ³›å‹æ¥å£

[ä¹‹å‰å­¦ä¹ è¿‡](../basics/type-of-function.md#æ¥å£ä¸­å‡½æ•°çš„å®šä¹‰)ï¼Œå¯ä»¥ä½¿ç”¨æ¥å£çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªå‡½æ•°éœ€è¦ç¬¦åˆçš„å½¢çŠ¶ï¼š

```ts
interface SearchFunc {
  (source: string, subString: string): boolean
}

let mySearch: SearchFunc
mySearch = function(source: string, subString: string) {
    return source.search(subString) !== -1
}
```

å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å«æœ‰æ³›å‹çš„æ¥å£æ¥å®šä¹‰å‡½æ•°çš„å½¢çŠ¶ï¼š

```ts
interface CreateArrayFunc {
    <T>(length: number, value: T): Array<T>
}

let createArray: CreateArrayFunc
createArray = function<T>(length: number, value: T): Array<T> {
    let result: T[] = []
    for (let i = 0 i < length i++) {
        result[i] = value
    }
    return result
}

createArray(3, 'x') // ['x', 'x', 'x']
```

è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ³›å‹å‚æ•°æå‰åˆ°æ¥å£åä¸Šï¼š

```ts
interface CreateArrayFunc<T> {
    (length: number, value: T): Array<T>
}

let createArray: CreateArrayFunc<any>
createArray = function<T>(length: number, value: T): Array<T> {
    let result: T[] = []
    for (let i = 0 i < length i++) {
        result[i] = value
    }
    return result
}

createArray(3, 'x') // ['x', 'x', 'x']
```

æ³¨æ„ï¼Œæ­¤æ—¶åœ¨ä½¿ç”¨æ³›å‹æ¥å£çš„æ—¶å€™ï¼Œéœ€è¦å®šä¹‰æ³›å‹çš„ç±»å‹ã€‚

### æ³›å‹ç±»

ä¸æ³›å‹æ¥å£ç±»ä¼¼ï¼Œæ³›å‹ä¹Ÿå¯ä»¥ç”¨äºç±»çš„ç±»å‹å®šä¹‰ä¸­ï¼š

```ts
class GenericNumber<T> {
    zeroValue: T
    add: (x: T, y: T) => T
}

let myGenericNumber = new GenericNumber<number>()
myGenericNumber.zeroValue = 0
myGenericNumber.add = function(x, y) { return x + y }
```

### æ³›å‹å‚æ•°çš„é»˜è®¤ç±»å‹

åœ¨ TypeScript 2.3 ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ³›å‹ä¸­çš„ç±»å‹å‚æ•°æŒ‡å®šé»˜è®¤ç±»å‹ã€‚å½“ä½¿ç”¨æ³›å‹æ—¶æ²¡æœ‰åœ¨ä»£ç ä¸­ç›´æ¥æŒ‡å®šç±»å‹å‚æ•°ï¼Œä»å®é™…å€¼å‚æ•°ä¸­ä¹Ÿæ— æ³•æ¨æµ‹å‡ºæ—¶ï¼Œè¿™ä¸ªé»˜è®¤ç±»å‹å°±ä¼šèµ·ä½œç”¨ã€‚

```ts
function createArray<T = string>(length: number, value: T): Array<T> {
    let result: T[] = []
    for (let i = 0 i < length i++) {
        result[i] = value
    }
    return result
}
```


## å£°æ˜åˆå¹¶

å¦‚æœå®šä¹‰äº†ä¸¤ä¸ªç›¸åŒåå­—çš„å‡½æ•°ã€æ¥å£æˆ–ç±»ï¼Œé‚£ä¹ˆå®ƒä»¬ä¼šåˆå¹¶æˆä¸€ä¸ªç±»å‹ï¼š

### å‡½æ•°çš„åˆå¹¶

[ä¹‹å‰å­¦ä¹ è¿‡](../basics/type-of-function.md#é‡è½½)ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é‡è½½å®šä¹‰å¤šä¸ªå‡½æ•°ç±»å‹ï¼š

```ts
function reverse(x: number): number
function reverse(x: string): string
function reverse(x: number | string): number | string {
    if (typeof x === 'number') {
        return Number(x.toString().split('').reverse().join(''))
    } else if (typeof x === 'string') {
        return x.split('').reverse().join('')
    }
}
```

### æ¥å£çš„åˆå¹¶

æ¥å£ä¸­çš„å±æ€§åœ¨åˆå¹¶æ—¶ä¼šç®€å•çš„åˆå¹¶åˆ°ä¸€ä¸ªæ¥å£ä¸­ï¼š

```ts
interface Alarm {
    price: number
}
interface Alarm {
    weight: number
}
```

ç›¸å½“äºï¼š

```ts
interface Alarm {
    price: number
    weight: number
}
```

æ³¨æ„ï¼Œ**åˆå¹¶çš„å±æ€§çš„ç±»å‹å¿…é¡»æ˜¯å”¯ä¸€çš„**ï¼š

```ts
interface Alarm {
    price: number
}
interface Alarm {
    price: number  // è™½ç„¶é‡å¤äº†ï¼Œä½†æ˜¯ç±»å‹éƒ½æ˜¯ `number`ï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™
    weight: number
}
```

```ts
interface Alarm {
    price: number
}
interface Alarm {
    price: string  // ç±»å‹ä¸ä¸€è‡´ï¼Œä¼šæŠ¥é”™
    weight: number
}

// index.ts(5,3): error TS2403: Subsequent variable declarations must have the same type.  Variable 'price' must be of type 'number', but here has type 'string'.
```

æ¥å£ä¸­æ–¹æ³•çš„åˆå¹¶ï¼Œä¸å‡½æ•°çš„åˆå¹¶ä¸€æ ·ï¼š

```ts
interface Alarm {
    price: number
    alert(s: string): string
}
interface Alarm {
    weight: number
    alert(s: string, n: number): string
}
```

ç›¸å½“äºï¼š

```ts
interface Alarm {
    price: number
    weight: number
    alert(s: string): string
    alert(s: string, n: number): string
}
```

### ç±»çš„åˆå¹¶

ç±»çš„åˆå¹¶ä¸æ¥å£çš„åˆå¹¶è§„åˆ™ä¸€è‡´ã€‚

## æ‰©å±•é˜…è¯»

æ­¤å¤„è®°å½•äº†[å®˜æ–¹æ‰‹å†Œ](http://www.typescriptlang.org/docs/handbook/basic-types.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/)ï¼‰ä¸­åŒ…å«ï¼Œä½†æ˜¯æœ¬ä¹¦æœªæ¶‰åŠçš„æ¦‚å¿µã€‚

æˆ‘è®¤ä¸ºå®ƒä»¬æ˜¯ä¸€äº›ä¸é‡è¦æˆ–è€…ä¸å±äº TypeScript çš„æ¦‚å¿µï¼Œæ‰€ä»¥è¿™é‡Œåªç»™å‡ºä¸€ä¸ªç®€å•çš„é‡Šä¹‰ï¼Œè¯¦ç»†å†…å®¹å¯ä»¥ç‚¹å‡»é“¾æ¥æ·±å…¥ç†è§£ã€‚

- [Never](http://www.typescriptlang.org/docs/handbook/basic-types.html#never)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Basic%20Types.html#never)ï¼‰ï¼šæ°¸è¿œä¸å­˜åœ¨å€¼çš„ç±»å‹ï¼Œä¸€èˆ¬ç”¨äºé”™è¯¯å¤„ç†å‡½æ•°
- [Variable Declarations](http://www.typescriptlang.org/docs/handbook/variable-declarations.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Variable%20Declarations.html)ï¼‰ï¼šä½¿ç”¨ `let` å’Œ `const` æ›¿ä»£ `var`ï¼Œè¿™æ˜¯ [ES6 çš„çŸ¥è¯†](http://es6.ruanyifeng.com/#docs/let)
- [`this`](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Functions.html#this)ï¼šç®­å¤´å‡½æ•°çš„è¿ç”¨ï¼Œè¿™æ˜¯ [ES6 çš„çŸ¥è¯†](http://es6.ruanyifeng.com/#docs/function)
- [Using Class Types in Generics](http://www.typescriptlang.org/docs/handbook/generics.html#using-class-types-in-generics)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Generics.html#åœ¨æ³›å‹é‡Œä½¿ç”¨ç±»ç±»å‹)ï¼‰ï¼šåˆ›å»ºå·¥å‚å‡½æ•°æ—¶ï¼Œéœ€è¦å¼•ç”¨æ„é€ å‡½æ•°çš„ç±»ç±»å‹
- [Best common type](http://www.typescriptlang.org/docs/handbook/type-inference.html#best-common-type)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Type%20Inference.html#æœ€ä½³é€šç”¨ç±»å‹)ï¼‰ï¼šæ•°ç»„çš„ç±»å‹æ¨è®º
- [Contextual Type](http://www.typescriptlang.org/docs/handbook/type-inference.html#contextual-type)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Type%20Inference.html#ä¸Šä¸‹æ–‡ç±»å‹)ï¼‰ï¼šå‡½æ•°è¾“å…¥çš„ç±»å‹æ¨è®º
- [Type Compatibility](http://www.typescriptlang.org/docs/handbook/type-compatibility.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Type%20Compatibility.html)ï¼‰ï¼šå…è®¸ä¸ä¸¥æ ¼ç¬¦åˆç±»å‹ï¼Œåªéœ€è¦åœ¨ä¸€å®šè§„åˆ™ä¸‹å…¼å®¹å³å¯
- [Advanced Types](http://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Advanced%20Types.html#äº¤å‰ç±»å‹ï¼ˆintersection-typesï¼‰)ï¼‰ï¼šä½¿ç”¨ `&` å°†å¤šç§ç±»å‹çš„å…±æœ‰éƒ¨åˆ†å åŠ æˆä¸€ç§ç±»å‹
- [Type Guards and Differentiating Types](http://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Advanced%20Types.html#ç±»å‹ä¿æŠ¤ä¸åŒºåˆ†ç±»å‹ï¼ˆtype-guards-and-differentiating-typesï¼‰)ï¼‰ï¼šè”åˆç±»å‹åœ¨ä¸€äº›æƒ…å†µä¸‹è¢«è¯†åˆ«ä¸ºç‰¹å®šçš„ç±»å‹
- [Discriminated Unions](http://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Advanced%20Types.html#å¯è¾¨è¯†è”åˆï¼ˆdiscriminated-unionsï¼‰)ï¼‰ï¼šä½¿ç”¨ `|` è”åˆå¤šä¸ªæ¥å£çš„æ—¶å€™ï¼Œé€šè¿‡ä¸€ä¸ªå…±æœ‰çš„å±æ€§å½¢æˆå¯è¾¨è¯†è”åˆ
- [Polymorphic `this` types](http://www.typescriptlang.org/docs/handbook/advanced-types.html#polymorphic-this-types)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Advanced%20Types.html#å¤šæ€çš„thisç±»å‹)ï¼‰ï¼šçˆ¶ç±»çš„æŸä¸ªæ–¹æ³•è¿”å› `this`ï¼Œå½“å­ç±»ç»§æ‰¿çˆ¶ç±»åï¼Œå­ç±»çš„å®ä¾‹è°ƒç”¨æ­¤æ–¹æ³•ï¼Œè¿”å›çš„ `this` èƒ½å¤Ÿè¢« TypeScript æ­£ç¡®çš„è¯†åˆ«ä¸ºå­ç±»çš„å®ä¾‹ã€‚
- [Symbols](http://www.typescriptlang.org/docs/handbook/symbols.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Symbols.html)ï¼‰ï¼šæ–°åŸç”Ÿç±»å‹ï¼Œè¿™æ˜¯ [ES6 çš„çŸ¥è¯†](http://es6.ruanyifeng.com/#docs/symbol)
- [Iterators and Generators](http://www.typescriptlang.org/docs/handbook/iterators-and-generators.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Iterators%20and%20Generators.html)ï¼‰ï¼šè¿­ä»£å™¨ï¼Œè¿™æ˜¯ [ES6 çš„çŸ¥è¯†](http://es6.ruanyifeng.com/#docs/iterator)
- [Namespaces](http://www.typescriptlang.org/docs/handbook/namespaces.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Namespaces.html)ï¼‰ï¼šé¿å…å…¨å±€æ±¡æŸ“ï¼Œç°åœ¨å·²è¢« [ES6 Module](http://es6.ruanyifeng.com/#docs/module) æ›¿ä»£
- [Decorators](http://www.typescriptlang.org/docs/handbook/decorators.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Decorators.html)ï¼‰ï¼šä¿®é¥°å™¨ï¼Œè¿™æ˜¯ [ES7 çš„ä¸€ä¸ªææ¡ˆ](http://es6.ruanyifeng.com/#docs/decorator)
- [Mixins](http://www.typescriptlang.org/docs/handbook/mixins.html)ï¼ˆ[ä¸­æ–‡ç‰ˆ](https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/Mixins.html)ï¼‰ï¼šä¸€ç§ç¼–ç¨‹æ¨¡å¼ï¼Œä¸ TypeScript æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œå¯ä»¥å‚è€ƒ [ES6 ä¸­ Mixin æ¨¡å¼çš„å®ç°](http://es6.ruanyifeng.com/#docs/class#Mixinæ¨¡å¼çš„å®ç°)

---
